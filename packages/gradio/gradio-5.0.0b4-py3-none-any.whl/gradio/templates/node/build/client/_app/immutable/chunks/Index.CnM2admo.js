import{s as Ke,a as le,e as J,g as ne,c as W,b as H,f as y,p as b,q as X,i as K,F as _e,G as gl,R as Ge,y as Ot,Z as ct,a1 as Vt,M as st,r as he,t as He,d as Ie,j as Ve,n as Ze,X as ml,z as Le,Y as bl,l as it,H as dt,E as $,h as N,I as gt,al as Pt,u as at,m as rt,o as ot,J as Ct,W as De,am as Ft,L as Be,v as Me,w as Se,N as wl,B as kl}from"./scheduler.xQsDa6L3.js";import{S as Xe,i as Qe,g as Ee,b as Z,e as Ae,t as F,c as ge,a as me,m as be,d as we,f as Re}from"./index.lnKugwF0.js";import{f as ye,r as Ue,v as je,l as vl,a as Ut,B as pl,d as yl,b as El,e as Al}from"./2.Bbgn9Xo5.js";import{d as pe}from"./index.CnqicUFC.js";import{U as zl}from"./Upload.d4auggP1.js";/* empty css                                                   */import"./Index.svelte_svelte_type_style_lang.CpVRDsnt.js";import{M as ql}from"./Example.svelte_svelte_type_style_lang.D6XCUo29.js";import{d as Tl}from"./dsv.DB8NKgIY.js";import{default as bn}from"./Example.gJo-qBko.js";function mt(n){let e,t,l;return{c(){e=J("input"),this.h()},l(s){e=W(s,"INPUT",{role:!0,tabindex:!0,class:!0}),this.h()},h(){b(e,"role","textbox"),b(e,"tabindex","-1"),b(e,"class","svelte-1q554zi"),X(e,"header",n[5])},m(s,o){K(s,e,o),n[19](e),ct(e,n[11]),t||(l=[_e(e,"input",n[20]),_e(e,"blur",n[13]),Vt(n[12].call(null,e)),_e(e,"keydown",n[18])],t=!0)},p(s,o){o&2048&&e.value!==s[11]&&ct(e,s[11]),o&32&&X(e,"header",s[5])},d(s){s&&y(e),n[19](null),t=!1,Ge(l)}}}function Dl(n){let e=(n[9]?n[0]:n[3]||n[0])+"",t;return{c(){t=He(e)},l(l){t=Ie(l,e)},m(l,s){K(l,t,s)},p(l,s){s&521&&e!==(e=(l[9]?l[0]:l[3]||l[0])+"")&&Ve(t,e)},i:Ze,o:Ze,d(l){l&&y(t)}}}function Bl(n){let e,t;return e=new ql({props:{message:n[0].toLocaleString(),latex_delimiters:n[7],line_breaks:n[8],chatbot:!1,root:n[10]}}),{c(){ge(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,s){be(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.message=l[0].toLocaleString()),s&128&&(o.latex_delimiters=l[7]),s&256&&(o.line_breaks=l[8]),s&1024&&(o.root=l[10]),e.$set(o)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Rl(n){let e,t;return{c(){e=new ml(!1),t=Le(),this.h()},l(l){e=bl(l,!1),t=Le(),this.h()},h(){e.a=t},m(l,s){e.m(n[0],l,s),K(l,t,s)},p(l,s){s&1&&e.p(l[0])},i:Ze,o:Ze,d(l){l&&(y(t),e.d())}}}function Ll(n){let e,t,l,s,o,f,i,a=n[2]&&mt(n);const _=[Rl,Bl,Dl],u=[];function d(m,w){return m[6]==="html"?0:m[6]==="markdown"?1:2}return l=d(n),s=u[l]=_[l](n),{c(){a&&a.c(),e=le(),t=J("span"),s.c(),this.h()},l(m){a&&a.l(m),e=ne(m),t=W(m,"SPAN",{tabindex:!0,role:!0,style:!0,class:!0});var w=H(t);s.l(w),w.forEach(y),this.h()},h(){b(t,"tabindex","-1"),b(t,"role","button"),b(t,"style",n[4]),b(t,"class","svelte-1q554zi"),X(t,"edit",n[2])},m(m,w){a&&a.m(m,w),K(m,e,w),K(m,t,w),u[l].m(t,null),o=!0,f||(i=[_e(t,"dblclick",n[16]),_e(t,"focus",gl(n[17]))],f=!0)},p(m,[w]){m[2]?a?a.p(m,w):(a=mt(m),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);let z=l;l=d(m),l===z?u[l].p(m,w):(Ee(),Z(u[z],1,1,()=>{u[z]=null}),Ae(),s=u[l],s?s.p(m,w):(s=u[l]=_[l](m),s.c()),F(s,1),s.m(t,null)),(!o||w&16)&&b(t,"style",m[4]),(!o||w&4)&&X(t,"edit",m[2])},i(m){o||(F(s),o=!0)},o(m){Z(s),o=!1},d(m){m&&(y(e),y(t)),a&&a.d(m),u[l].d(),f=!1,Ge(i)}}}function Ml(n,e,t){let l,{edit:s}=e,{value:o=""}=e,{display_value:f=null}=e,{styling:i=""}=e,{header:a=!1}=e,{datatype:_="str"}=e,{latex_delimiters:u}=e,{clear_on_focus:d=!1}=e,{select_on_focus:m=!1}=e,{line_breaks:w=!0}=e,{editable:z=!0}=e,{root:D}=e;const L=Ot();let{el:I}=e;function O(E){return d&&t(11,l=""),m&&E.select(),E.focus(),{}}function q({currentTarget:E}){t(0,o=E.value),L("blur")}function T(E){st.call(this,n,E)}function M(E){st.call(this,n,E)}function h(E){st.call(this,n,E)}function p(E){he[E?"unshift":"push"](()=>{I=E,t(1,I)})}function B(){l=this.value,t(11,l),t(0,o)}return n.$$set=E=>{"edit"in E&&t(2,s=E.edit),"value"in E&&t(0,o=E.value),"display_value"in E&&t(3,f=E.display_value),"styling"in E&&t(4,i=E.styling),"header"in E&&t(5,a=E.header),"datatype"in E&&t(6,_=E.datatype),"latex_delimiters"in E&&t(7,u=E.latex_delimiters),"clear_on_focus"in E&&t(14,d=E.clear_on_focus),"select_on_focus"in E&&t(15,m=E.select_on_focus),"line_breaks"in E&&t(8,w=E.line_breaks),"editable"in E&&t(9,z=E.editable),"root"in E&&t(10,D=E.root),"el"in E&&t(1,I=E.el)},n.$$.update=()=>{n.$$.dirty&1&&t(11,l=o)},[o,I,s,f,i,a,_,u,w,z,D,l,O,q,d,m,T,M,h,p,B]}class xe extends Xe{constructor(e){super(),Qe(this,e,Ml,Ll,Ke,{edit:2,value:0,display_value:3,styling:4,header:5,datatype:6,latex_delimiters:7,clear_on_focus:14,select_on_focus:15,line_breaks:8,editable:9,root:10,el:1})}}const Sl=n=>({}),bt=n=>({});function wt(n,e,t){const l=n.slice();return l[36]=e[t],l}const Nl=n=>({item:n[0]&2,index:n[0]&2}),kt=n=>({item:n[36].data,index:n[36].index}),Hl=n=>({}),vt=n=>({});function pt(n){let e=[],t=new Map,l,s,o=ye(n[1]);const f=i=>i[36].data[0].id;for(let i=0;i<o.length;i+=1){let a=wt(n,o,i),_=f(a);t.set(_,e[i]=yt(_,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Le()},l(i){for(let a=0;a<e.length;a+=1)e[a].l(i);l=Le()},m(i,a){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(i,a);K(i,l,a),s=!0},p(i,a){a[0]&1048578&&(o=ye(i[1]),Ee(),e=Ue(e,a,f,1,i,o,t,l.parentNode,je,yt,l,wt),Ae())},i(i){if(!s){for(let a=0;a<o.length;a+=1)F(e[a]);s=!0}},o(i){for(let a=0;a<e.length;a+=1)Z(e[a]);s=!1},d(i){i&&y(l);for(let a=0;a<e.length;a+=1)e[a].d(i)}}}function Il(n){let e;return{c(){e=He(`Missing Table Row
					`)},l(t){e=Ie(t,`Missing Table Row
					`)},m(t,l){K(t,e,l)},d(t){t&&y(e)}}}function yt(n,e){let t,l;const s=e[21].tbody,o=it(s,e,e[20],kt),f=o||Il();return{key:n,first:null,c(){t=Le(),f&&f.c(),this.h()},l(i){t=Le(),f&&f.l(i),this.h()},h(){this.first=t},m(i,a){K(i,t,a),f&&f.m(i,a),l=!0},p(i,a){e=i,o&&o.p&&(!l||a[0]&1048578)&&at(o,s,e,e[20],l?ot(s,e[20],a,Nl):rt(e[20]),kt)},i(i){l||(F(f,i),l=!0)},o(i){Z(f,i),l=!1},d(i){i&&y(t),f&&f.d(i)}}}function Ol(n){let e,t,l,s,o,f,i,a,_,u,d,m,w;const z=n[21].thead,D=it(z,n,n[20],vt);let L=n[1].length&&n[1][0].data.length&&pt(n);const I=n[21].tfoot,O=it(I,n,n[20],bt);return{c(){e=J("svelte-virtual-table-viewport"),t=J("table"),l=J("thead"),D&&D.c(),o=le(),f=J("tbody"),L&&L.c(),i=le(),a=J("tfoot"),O&&O.c(),this.h()},l(q){e=W(q,"SVELTE-VIRTUAL-TABLE-VIEWPORT",{});var T=H(e);t=W(T,"TABLE",{class:!0,style:!0});var M=H(t);l=W(M,"THEAD",{class:!0});var h=H(l);D&&D.l(h),h.forEach(y),o=ne(M),f=W(M,"TBODY",{class:!0});var p=H(f);L&&L.l(p),p.forEach(y),i=ne(M),a=W(M,"TFOOT",{class:!0});var B=H(a);O&&O.l(B),B.forEach(y),M.forEach(y),T.forEach(y),this.h()},h(){b(l,"class","thead svelte-16wd2w5"),dt(()=>n[22].call(l)),b(f,"class","tbody svelte-16wd2w5"),b(a,"class","tfoot svelte-16wd2w5"),dt(()=>n[24].call(a)),b(t,"class","table svelte-16wd2w5"),$(t,"height",Vl),$(t,"--bw-svt-p-top",n[7]+"px"),$(t,"--bw-svt-p-bottom",n[3]+"px"),$(t,"--bw-svt-head-height",n[5]+"px"),$(t,"--bw-svt-foot-height",n[6]+"px"),$(t,"--bw-svt-avg-row-height",n[0]+"px")},m(q,T){K(q,e,T),N(e,t),N(t,l),D&&D.m(l,null),s=gt(l,n[22].bind(l)),N(t,o),N(t,f),L&&L.m(f,null),n[23](f),N(t,i),N(t,a),O&&O.m(a,null),_=gt(a,n[24].bind(a)),n[25](t),u=Pt.observe(t,n[26].bind(t)),d=!0,m||(w=_e(t,"scroll",n[9]),m=!0)},p(q,T){D&&D.p&&(!d||T[0]&1048576)&&at(D,z,q,q[20],d?ot(z,q[20],T,Hl):rt(q[20]),vt),q[1].length&&q[1][0].data.length?L?(L.p(q,T),T[0]&2&&F(L,1)):(L=pt(q),L.c(),F(L,1),L.m(f,null)):L&&(Ee(),Z(L,1,1,()=>{L=null}),Ae()),O&&O.p&&(!d||T[0]&1048576)&&at(O,I,q,q[20],d?ot(I,q[20],T,Sl):rt(q[20]),bt),(!d||T[0]&128)&&$(t,"--bw-svt-p-top",q[7]+"px"),(!d||T[0]&8)&&$(t,"--bw-svt-p-bottom",q[3]+"px"),(!d||T[0]&32)&&$(t,"--bw-svt-head-height",q[5]+"px"),(!d||T[0]&64)&&$(t,"--bw-svt-foot-height",q[6]+"px"),(!d||T[0]&1)&&$(t,"--bw-svt-avg-row-height",q[0]+"px")},i(q){d||(F(D,q),F(L),F(O,q),d=!0)},o(q){Z(D,q),Z(L),Z(O,q),d=!1},d(q){q&&y(e),D&&D.d(q),s(),L&&L.d(),n[23](null),O&&O.d(q),_(),n[25](null),u(),m=!1,w()}}}let Vl="100%";function Pl(n,e){if(!n)return 0;const t=getComputedStyle(n);return parseInt(t.getPropertyValue(e))}function Cl(n,e,t){let l,{$$slots:s={},$$scope:o}=e,{items:f=[]}=e,{max_height:i}=e,{actual_height:a}=e,{table_scrollbar_width:_}=e,{start:u=0}=e,{end:d=20}=e,{selected:m}=e,w=30,z=0,D,L=0,I=0,O=[],q,T,M=0,h,p=200,B=[],E;const se=typeof window<"u",U=se?window.requestAnimationFrame:A=>A();let ee=0;async function x(A){if(p===0)return;const{scrollTop:g}=h;t(13,_=h.offsetWidth-h.clientWidth),ee=M-(g-L);let C=u;for(;ee<i&&C<A.length;){let P=T[C-u];P||(t(11,d=C+1),await De(),P=T[C-u]);let te=P==null?void 0:P.getBoundingClientRect().height;te||(te=w);const Oe=O[C]=te;ee+=Oe,C+=1}t(11,d=C);const re=A.length-d,ie=h.offsetHeight-h.clientHeight;ie>0&&(ee+=ie);let oe=O.filter(P=>typeof P=="number");t(0,w=oe.reduce((P,te)=>P+te,0)/oe.length),t(3,z=re*w),O.length=A.length,await De(),i?ee<i?t(12,a=ee+2):t(12,a=i):t(12,a=ee+1),await De()}async function de(A){U(async()=>{if(typeof A!="number")return;const g=typeof A!="number"?!1:Q(A);g!==!0&&(g==="back"&&await v(A,{behavior:"instant"}),g==="forwards"&&await v(A,{behavior:"instant"},!0))})}function Q(A){const g=T&&T[A-u];if(!g&&A<u)return"back";if(!g&&A>=d-1)return"forwards";const{top:C}=h.getBoundingClientRect(),{top:re,bottom:ie}=g.getBoundingClientRect();return re-C<37?"back":ie-C>p?"forwards":!0}async function k(A){const g=h.scrollTop;T=D.children;const C=l.length<u,re=Pl(T[1],"border-top-width"),ie=0;C&&await v(l.length-1,{behavior:"auto"});let oe=0;for(let Y=0;Y<T.length;Y+=1)O[u+Y]=T[Y].getBoundingClientRect().height;let P=0,te=L+re/2,Oe=[];for(;P<l.length;){const Y=O[P]||w;if(Oe[P]=Y,te+Y+ie>g){oe=P,t(7,M=te-(L+re/2));break}te+=Y,P+=1}for(oe=Math.max(0,oe);P<l.length;){const Y=O[P]||w;if(te+=Y,P+=1,te>g+p)break}t(10,u=oe),t(11,d=P);const ve=l.length-d;d===0&&t(11,d=10),t(0,w=(te-L)/d);let Je=ve*w;for(;P<l.length;)P+=1,O[P]=w;t(3,z=Je),isFinite(z)||t(3,z=2e5)}async function v(A,g,C=!1){await De();const re=w;let ie=A*re;C&&(ie=ie-p+re+L);const oe=h.offsetHeight-h.clientHeight;oe>0&&(ie+=oe);const P={top:ie,behavior:"smooth",...g};h.scrollTo(P)}Ct(()=>{T=D.children,t(18,q=!0),x(f)});function j(){L=this.offsetHeight,t(5,L)}function R(A){he[A?"unshift":"push"](()=>{D=A,t(4,D)})}function ae(){I=this.offsetHeight,t(6,I)}function ke(A){he[A?"unshift":"push"](()=>{h=A,t(8,h)})}function ze(){var A;E=(A=Ft.entries.get(this))==null?void 0:A.contentRect,t(2,E)}return n.$$set=A=>{"items"in A&&t(14,f=A.items),"max_height"in A&&t(15,i=A.max_height),"actual_height"in A&&t(12,a=A.actual_height),"table_scrollbar_width"in A&&t(13,_=A.table_scrollbar_width),"start"in A&&t(10,u=A.start),"end"in A&&t(11,d=A.end),"selected"in A&&t(16,m=A.selected),"$$scope"in A&&t(20,o=A.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&4&&(p=(E==null?void 0:E.height)||200),n.$$.dirty[0]&16384&&t(19,l=f),n.$$.dirty[0]&786432&&q&&U(()=>x(l)),n.$$.dirty[0]&65536&&de(m),n.$$.dirty[0]&560129&&t(1,B=se?l.slice(u,d).map((A,g)=>({index:g+u,data:A})):l.slice(0,i/l.length*w+1).map((A,g)=>({index:g+u,data:A}))),n.$$.dirty[0]&3&&t(12,a=B.length*w+10)},[w,B,E,z,D,L,I,M,h,k,u,d,a,_,f,i,m,v,q,l,o,s,j,R,ae,ke,ze]}class Fl extends Xe{constructor(e){super(),Qe(this,e,Cl,Ol,Ke,{items:14,max_height:15,actual_height:12,table_scrollbar_width:13,start:10,end:11,selected:16,scroll_to_index:17},null,[-1,-1])}get scroll_to_index(){return this.$$.ctx[17]}}function Et(n,e,t){const l=n.slice();return l[89]=e[t].value,l[90]=e[t].id,l[93]=e,l[94]=t,l}function At(n,e,t){const l=n.slice();return l[89]=e[t].value,l[90]=e[t].id,l[91]=e,l[92]=t,l}function zt(n,e,t){const l=n.slice();return l[89]=e[t].value,l[90]=e[t].id,l[95]=e,l[92]=t,l}function qt(n,e,t){const l=n.slice();return l[89]=e[t].value,l[90]=e[t].id,l[94]=t,l}function Tt(n){let e,t;return{c(){e=J("p"),t=He(n[1]),this.h()},l(l){e=W(l,"P",{class:!0});var s=H(e);t=Ie(s,n[1]),s.forEach(y),this.h()},h(){b(e,"class","svelte-1x62z9q")},m(l,s){K(l,e,s),N(e,t)},p(l,s){s[0]&2&&Ve(t,l[1])},d(l){l&&y(e)}}}function Dt(n){let e,t;return{c(){e=J("caption"),t=He(n[1]),this.h()},l(l){e=W(l,"CAPTION",{class:!0});var s=H(e);t=Ie(s,n[1]),s.forEach(y),this.h()},h(){b(e,"class","sr-only")},m(l,s){K(l,e,s),N(e,t)},p(l,s){s[0]&2&&Ve(t,l[1])},d(l){l&&y(e)}}}function Bt(n,e){let t,l,s,o,f,i,a,_,u,d,m;return s=new xe({props:{value:e[89],latex_delimiters:e[5],line_breaks:e[11],header:!0,edit:!1,el:null,root:e[8]}}),{key:n,first:null,c(){t=J("th"),l=J("div"),ge(s.$$.fragment),o=le(),f=J("div"),i=Me("svg"),a=Me("path"),u=le(),this.h()},l(w){t=W(w,"TH",{"aria-sort":!0,class:!0});var z=H(t);l=W(z,"DIV",{class:!0});var D=H(l);me(s.$$.fragment,D),o=ne(D),f=W(D,"DIV",{class:!0});var L=H(f);i=Se(L,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var I=H(i);a=Se(I,"path",{d:!0}),H(a).forEach(y),I.forEach(y),L.forEach(y),D.forEach(y),u=ne(z),z.forEach(y),this.h()},h(){b(a,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),b(i,"width","1em"),b(i,"height","1em"),b(i,"viewBox","0 0 9 7"),b(i,"fill","none"),b(i,"xmlns","http://www.w3.org/2000/svg"),b(i,"class","svelte-1x62z9q"),b(f,"class",_="sort-button "+e[19]+" svelte-1x62z9q"),X(f,"sorted",e[20]===e[94]),X(f,"des",e[20]===e[94]&&e[19]==="des"),b(l,"class","cell-wrap svelte-1x62z9q"),b(t,"aria-sort",d=e[37](e[89],e[20],e[19])),b(t,"class","svelte-1x62z9q"),X(t,"editing",e[28]===e[94]),$(t,"width",e[12].length?e[12][e[94]]:void 0),this.first=t},m(w,z){K(w,t,z),N(t,l),be(s,l,null),N(l,o),N(l,f),N(f,i),N(i,a),N(t,u),m=!0},p(w,z){e=w;const D={};z[0]&67108864&&(D.value=e[89]),z[0]&32&&(D.latex_delimiters=e[5]),z[0]&2048&&(D.line_breaks=e[11]),z[0]&256&&(D.root=e[8]),s.$set(D),(!m||z[0]&524288&&_!==(_="sort-button "+e[19]+" svelte-1x62z9q"))&&b(f,"class",_),(!m||z[0]&68681728)&&X(f,"sorted",e[20]===e[94]),(!m||z[0]&68681728)&&X(f,"des",e[20]===e[94]&&e[19]==="des"),(!m||z[0]&68681728&&d!==(d=e[37](e[89],e[20],e[19])))&&b(t,"aria-sort",d),(!m||z[0]&335544320)&&X(t,"editing",e[28]===e[94]),z[0]&67112960&&$(t,"width",e[12].length?e[12][e[94]]:void 0)},i(w){m||(F(s.$$.fragment,w),m=!0)},o(w){Z(s.$$.fragment,w),m=!1},d(w){w&&y(t),we(s)}}}function Rt(n,e){let t,l,s,o,f=e[92],i;s=new xe({props:{value:e[89],latex_delimiters:e[5],line_breaks:e[11],datatype:Array.isArray(e[0])?e[0][e[92]]:e[0],edit:!1,el:null,root:e[8]}});const a=()=>e[54](t,f),_=()=>e[54](null,f);return{key:n,first:null,c(){t=J("td"),l=J("div"),ge(s.$$.fragment),o=le(),this.h()},l(u){t=W(u,"TD",{tabindex:!0,class:!0});var d=H(t);l=W(d,"DIV",{class:!0});var m=H(l);me(s.$$.fragment,m),m.forEach(y),o=ne(d),d.forEach(y),this.h()},h(){b(l,"class","cell-wrap svelte-1x62z9q"),b(t,"tabindex","-1"),b(t,"class","svelte-1x62z9q"),this.first=t},m(u,d){K(u,t,d),N(t,l),be(s,l,null),N(t,o),a(),i=!0},p(u,d){e=u;const m={};d[1]&32&&(m.value=e[89]),d[0]&32&&(m.latex_delimiters=e[5]),d[0]&2048&&(m.line_breaks=e[11]),d[0]&1|d[1]&32&&(m.datatype=Array.isArray(e[0])?e[0][e[92]]:e[0]),d[0]&256&&(m.root=e[8]),s.$set(m),f!==e[92]&&(_(),f=e[92],a())},i(u){i||(F(s.$$.fragment,u),i=!0)},o(u){Z(s.$$.fragment,u),i=!1},d(u){u&&y(t),we(s),_()}}}function Lt(n){let e,t;return{c(){e=J("caption"),t=He(n[1]),this.h()},l(l){e=W(l,"CAPTION",{class:!0});var s=H(e);t=Ie(s,n[1]),s.forEach(y),this.h()},h(){b(e,"class","sr-only")},m(l,s){K(l,e,s),N(e,t)},p(l,s){s[0]&2&&Ve(t,l[1])},d(l){l&&y(e)}}}function Ul(n){let e,t=n[1]&&n[1].length!==0&&Lt(n);return{c(){t&&t.c(),e=Le()},l(l){t&&t.l(l),e=Le()},m(l,s){t&&t.m(l,s),K(l,e,s)},p(l,s){l[1]&&l[1].length!==0?t?t.p(l,s):(t=Lt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&y(e),t&&t.d(l)}}}function Mt(n,e){let t,l,s,o,f,i,a,_,u,d,m,w,z,D,L;function I(h){e[63](h,e[94])}function O(h){e[64](h,e[90])}function q(){return e[65](e[94])}let T={latex_delimiters:e[5],line_breaks:e[11],edit:e[28]===e[94],select_on_focus:e[29],header:!0,root:e[8]};e[26][e[94]].value!==void 0&&(T.value=e[26][e[94]].value),e[25][e[90]].input!==void 0&&(T.el=e[25][e[90]].input),s=new xe({props:T}),he.push(()=>Re(s,"value",I)),he.push(()=>Re(s,"el",O)),s.$on("keydown",e[43]),s.$on("dblclick",q);function M(){return e[66](e[94])}return{key:n,first:null,c(){t=J("th"),l=J("div"),ge(s.$$.fragment),i=le(),a=J("div"),_=Me("svg"),u=Me("path"),m=le(),this.h()},l(h){t=W(h,"TH",{"aria-sort":!0,style:!0,class:!0});var p=H(t);l=W(p,"DIV",{class:!0});var B=H(l);me(s.$$.fragment,B),i=ne(B),a=W(B,"DIV",{class:!0});var E=H(a);_=Se(E,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var se=H(_);u=Se(se,"path",{d:!0}),H(u).forEach(y),se.forEach(y),E.forEach(y),B.forEach(y),m=ne(p),p.forEach(y),this.h()},h(){b(u,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),b(_,"width","1em"),b(_,"height","1em"),b(_,"viewBox","0 0 9 7"),b(_,"fill","none"),b(_,"xmlns","http://www.w3.org/2000/svg"),b(_,"class","svelte-1x62z9q"),b(a,"class",d="sort-button "+e[19]+" svelte-1x62z9q"),X(a,"sorted",e[20]===e[94]),X(a,"des",e[20]===e[94]&&e[19]==="des"),b(l,"class","cell-wrap svelte-1x62z9q"),b(t,"aria-sort",w=e[37](e[89],e[20],e[19])),$(t,"width","var(--cell-width-"+e[94]+")"),b(t,"class","svelte-1x62z9q"),X(t,"focus",e[28]===e[94]||e[21]===e[94]),this.first=t},m(h,p){K(h,t,p),N(t,l),be(s,l,null),N(l,i),N(l,a),N(a,_),N(_,u),N(t,m),z=!0,D||(L=_e(a,"click",M),D=!0)},p(h,p){e=h;const B={};p[0]&32&&(B.latex_delimiters=e[5]),p[0]&2048&&(B.line_breaks=e[11]),p[0]&335544320&&(B.edit=e[28]===e[94]),p[0]&536870912&&(B.select_on_focus=e[29]),p[0]&256&&(B.root=e[8]),!o&&p[0]&67108864&&(o=!0,B.value=e[26][e[94]].value,Be(()=>o=!1)),!f&&p[0]&100663296&&(f=!0,B.el=e[25][e[90]].input,Be(()=>f=!1)),s.$set(B),(!z||p[0]&524288&&d!==(d="sort-button "+e[19]+" svelte-1x62z9q"))&&b(a,"class",d),(!z||p[0]&68681728)&&X(a,"sorted",e[20]===e[94]),(!z||p[0]&68681728)&&X(a,"des",e[20]===e[94]&&e[19]==="des"),(!z||p[0]&68681728&&w!==(w=e[37](e[89],e[20],e[19])))&&b(t,"aria-sort",w),(!z||p[0]&67108864)&&$(t,"width","var(--cell-width-"+e[94]+")"),(!z||p[0]&337641472)&&X(t,"focus",e[28]===e[94]||e[21]===e[94])},i(h){z||(F(s.$$.fragment,h),z=!0)},o(h){Z(s.$$.fragment,h),z=!1},d(h){h&&y(t),we(s),D=!1,L()}}}function jl(n){let e,t=[],l=new Map,s,o=ye(n[26]);const f=i=>i[90];for(let i=0;i<o.length;i+=1){let a=Et(n,o,i),_=f(a);l.set(_,t[i]=Mt(_,a))}return{c(){e=J("tr");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=W(i,"TR",{slot:!0,class:!0});var a=H(e);for(let _=0;_<t.length;_+=1)t[_].l(a);a.forEach(y),this.h()},h(){b(e,"slot","thead"),b(e,"class","svelte-1x62z9q")},m(i,a){K(i,e,a);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);s=!0},p(i,a){a[0]&909642016|a[1]&7232&&(o=ye(i[26]),Ee(),t=Ue(t,a,f,1,i,o,l,e,je,Mt,null,Et),Ae())},i(i){if(!s){for(let a=0;a<o.length;a+=1)F(t[a]);s=!0}},o(i){for(let a=0;a<t.length;a+=1)Z(t[a]);s=!1},d(i){i&&y(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function St(n,e){var q,T;let t,l,s,o,f,i,a,_=`var(--cell-width-${e[92]})`,u,d,m;function w(M){e[57](M,e[87],e[92])}function z(M){e[58](M,e[90])}let D={display_value:(T=(q=e[15])==null?void 0:q[e[87]])==null?void 0:T[e[92]],latex_delimiters:e[5],line_breaks:e[11],editable:e[6],edit:pe(e[24],[e[87],e[92]]),datatype:Array.isArray(e[0])?e[0][e[92]]:e[0],clear_on_focus:e[27],root:e[8]};e[18][e[87]][e[92]].value!==void 0&&(D.value=e[18][e[87]][e[92]].value),e[25][e[90]].input!==void 0&&(D.el=e[25][e[90]].input),s=new xe({props:D}),he.push(()=>Re(s,"value",w)),he.push(()=>Re(s,"el",z)),s.$on("blur",e[59]);function L(){return e[60](e[87],e[92])}function I(){return e[61](e[87],e[92])}function O(){return e[62](e[87],e[92])}return{key:n,first:null,c(){t=J("td"),l=J("div"),ge(s.$$.fragment),i=le(),this.h()},l(M){t=W(M,"TD",{tabindex:!0,style:!0,class:!0});var h=H(t);l=W(h,"DIV",{class:!0});var p=H(l);me(s.$$.fragment,p),p.forEach(y),i=ne(h),h.forEach(y),this.h()},h(){var M,h;b(l,"class","cell-wrap svelte-1x62z9q"),b(t,"tabindex","0"),b(t,"style",a=((h=(M=e[16])==null?void 0:M[e[87]])==null?void 0:h[e[92]])||""),b(t,"class","svelte-1x62z9q"),X(t,"focus",pe(e[17],[e[87],e[92]])),$(t,"width",_),this.first=t},m(M,h){K(M,t,h),N(t,l),be(s,l,null),N(t,i),u=!0,d||(m=[_e(t,"touchstart",L,{passive:!0}),_e(t,"click",I),_e(t,"dblclick",O)],d=!0)},p(M,h){var E,se,U,ee;e=M;const p={};h[0]&32768|h[2]&100663296&&(p.display_value=(se=(E=e[15])==null?void 0:E[e[87]])==null?void 0:se[e[92]]),h[0]&32&&(p.latex_delimiters=e[5]),h[0]&2048&&(p.line_breaks=e[11]),h[0]&64&&(p.editable=e[6]),h[0]&16777216|h[2]&100663296&&(p.edit=pe(e[24],[e[87],e[92]])),h[0]&1|h[2]&67108864&&(p.datatype=Array.isArray(e[0])?e[0][e[92]]:e[0]),h[0]&134217728&&(p.clear_on_focus=e[27]),h[0]&256&&(p.root=e[8]),!o&&h[0]&262144|h[2]&100663296&&(o=!0,p.value=e[18][e[87]][e[92]].value,Be(()=>o=!1)),!f&&h[0]&33554432|h[2]&67108864&&(f=!0,p.el=e[25][e[90]].input,Be(()=>f=!1)),s.$set(p),(!u||h[0]&65536|h[2]&100663296&&a!==(a=((ee=(U=e[16])==null?void 0:U[e[87]])==null?void 0:ee[e[92]])||""))&&b(t,"style",a),(!u||h[0]&131072|h[2]&100663296)&&X(t,"focus",pe(e[17],[e[87],e[92]]));const B=h[0]&65536|h[2]&100663296;(h[0]&65536|h[2]&100663296&&_!==(_=`var(--cell-width-${e[92]})`)||B)&&$(t,"width",_)},i(M){u||(F(s.$$.fragment,M),u=!0)},o(M){Z(s.$$.fragment,M),u=!1},d(M){M&&y(t),we(s),d=!1,Ge(m)}}}function Jl(n){let e,t=[],l=new Map,s,o=ye(n[88]);const f=i=>i[90];for(let i=0;i<o.length;i+=1){let a=At(n,o,i),_=f(a);l.set(_,t[i]=St(_,a))}return{c(){e=J("tr");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=W(i,"TR",{slot:!0,class:!0});var a=H(e);for(let _=0;_<t.length;_+=1)t[_].l(a);a.forEach(y),this.h()},h(){b(e,"slot","tbody"),b(e,"class","svelte-1x62z9q"),X(e,"row_odd",n[87]%2===0)},m(i,a){K(i,e,a);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);s=!0},p(i,a){a[0]&185043297|a[1]&641|a[2]&100663296&&(o=ye(i[88]),Ee(),t=Ue(t,a,f,1,i,o,l,e,je,St,null,At),Ae()),(!s||a[2]&33554432)&&X(e,"row_odd",i[87]%2===0)},i(i){if(!s){for(let a=0;a<o.length;a+=1)F(t[a]);s=!0}},o(i){for(let a=0;a<t.length;a+=1)Z(t[a]);s=!1},d(i){i&&y(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Wl(n){let e,t,l,s,o;function f(u){n[67](u)}function i(u){n[68](u)}function a(u){n[69](u)}let _={max_height:n[10],selected:n[35],$$slots:{tbody:[Jl,({index:u,item:d})=>({87:u,88:d}),({index:u,item:d})=>[0,0,(u?33554432:0)|(d?67108864:0)]],thead:[jl],default:[Ul]},$$scope:{ctx:n}};return n[18]!==void 0&&(_.items=n[18]),n[33]!==void 0&&(_.actual_height=n[33]),n[34]!==void 0&&(_.table_scrollbar_width=n[34]),e=new Fl({props:_}),he.push(()=>Re(e,"items",f)),he.push(()=>Re(e,"actual_height",i)),he.push(()=>Re(e,"table_scrollbar_width",a)),{c(){ge(e.$$.fragment)},l(u){me(e.$$.fragment,u)},m(u,d){be(e,u,d),o=!0},p(u,d){const m={};d[0]&1024&&(m.max_height=u[10]),d[1]&16&&(m.selected=u[35]),d[0]&1061128547|d[1]&1|d[2]&100663296|d[3]&16&&(m.$$scope={dirty:d,ctx:u}),!t&&d[0]&262144&&(t=!0,m.items=u[18],Be(()=>t=!1)),!l&&d[1]&4&&(l=!0,m.actual_height=u[33],Be(()=>l=!1)),!s&&d[1]&8&&(s=!0,m.table_scrollbar_width=u[34],Be(()=>s=!1)),e.$set(m)},i(u){o||(F(e.$$.fragment,u),o=!0)},o(u){Z(e.$$.fragment,u),o=!1},d(u){we(e,u)}}}function Nt(n){let e,t,l,s=n[4][1]==="dynamic"&&Ht(n),o=n[3][1]==="dynamic"&&It(n);return{c(){e=J("div"),s&&s.c(),t=le(),o&&o.c(),this.h()},l(f){e=W(f,"DIV",{class:!0});var i=H(e);s&&s.l(i),t=ne(i),o&&o.l(i),i.forEach(y),this.h()},h(){b(e,"class","controls-wrap svelte-1x62z9q")},m(f,i){K(f,e,i),s&&s.m(e,null),N(e,t),o&&o.m(e,null),l=!0},p(f,i){f[4][1]==="dynamic"?s?(s.p(f,i),i[0]&16&&F(s,1)):(s=Ht(f),s.c(),F(s,1),s.m(e,t)):s&&(Ee(),Z(s,1,1,()=>{s=null}),Ae()),f[3][1]==="dynamic"?o?(o.p(f,i),i[0]&8&&F(o,1)):(o=It(f),o.c(),F(o,1),o.m(e,null)):o&&(Ee(),Z(o,1,1,()=>{o=null}),Ae())},i(f){l||(F(s),F(o),l=!0)},o(f){Z(s),Z(o),l=!1},d(f){f&&y(e),s&&s.d(),o&&o.d()}}}function Ht(n){let e,t,l;return t=new Ut({props:{variant:"secondary",size:"sm",$$slots:{default:[Yl]},$$scope:{ctx:n}}}),t.$on("click",n[74]),{c(){e=J("span"),ge(t.$$.fragment),this.h()},l(s){e=W(s,"SPAN",{class:!0});var o=H(e);me(t.$$.fragment,o),o.forEach(y),this.h()},h(){b(e,"class","button-wrap svelte-1x62z9q")},m(s,o){K(s,e,o),be(t,e,null),l=!0},p(s,o){const f={};o[0]&512|o[3]&16&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){Z(t.$$.fragment,s),l=!1},d(s){s&&y(e),we(t)}}}function Yl(n){let e,t,l,s=n[9]("dataframe.new_row")+"",o;return{c(){e=Me("svg"),t=Me("path"),l=le(),o=He(s),this.h()},l(f){e=Se(f,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0,class:!0});var i=H(e);t=Se(i,"path",{fill:!0,d:!0}),H(t).forEach(y),i.forEach(y),l=ne(f),o=Ie(f,s),this.h()},h(){b(t,"fill","currentColor"),b(t,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),b(e,"aria-hidden","true"),b(e,"role","img"),b(e,"width","1em"),b(e,"height","1em"),b(e,"preserveAspectRatio","xMidYMid meet"),b(e,"viewBox","0 0 32 32"),b(e,"class","svelte-1x62z9q")},m(f,i){K(f,e,i),N(e,t),K(f,l,i),K(f,o,i)},p(f,i){i[0]&512&&s!==(s=f[9]("dataframe.new_row")+"")&&Ve(o,s)},d(f){f&&(y(e),y(l),y(o))}}}function It(n){let e,t,l;return t=new Ut({props:{variant:"secondary",size:"sm",$$slots:{default:[Zl]},$$scope:{ctx:n}}}),t.$on("click",n[75]),{c(){e=J("span"),ge(t.$$.fragment),this.h()},l(s){e=W(s,"SPAN",{class:!0});var o=H(e);me(t.$$.fragment,o),o.forEach(y),this.h()},h(){b(e,"class","button-wrap svelte-1x62z9q")},m(s,o){K(s,e,o),be(t,e,null),l=!0},p(s,o){const f={};o[0]&512|o[3]&16&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){Z(t.$$.fragment,s),l=!1},d(s){s&&y(e),we(t)}}}function Zl(n){let e,t,l,s=n[9]("dataframe.new_column")+"",o;return{c(){e=Me("svg"),t=Me("path"),l=le(),o=He(s),this.h()},l(f){e=Se(f,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0,class:!0});var i=H(e);t=Se(i,"path",{fill:!0,d:!0}),H(t).forEach(y),i.forEach(y),l=ne(f),o=Ie(f,s),this.h()},h(){b(t,"fill","currentColor"),b(t,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),b(e,"aria-hidden","true"),b(e,"role","img"),b(e,"width","1em"),b(e,"height","1em"),b(e,"preserveAspectRatio","xMidYMid meet"),b(e,"viewBox","0 0 32 32"),b(e,"class","svelte-1x62z9q")},m(f,i){K(f,e,i),N(e,t),K(f,l,i),K(f,o,i)},p(f,i){i[0]&512&&s!==(s=f[9]("dataframe.new_column")+"")&&Ve(o,s)},d(f){f&&(y(e),y(l),y(o))}}}function Kl(n){let e,t,l,s,o,f,i,a=[],_=new Map,u,d,m,w=[],z=new Map,D,L,I,O,q,T,M,h,p=n[1]&&n[1].length!==0&&n[2]&&Tt(n),B=n[1]&&n[1].length!==0&&Dt(n),E=ye(n[26]);const se=k=>k[90];for(let k=0;k<E.length;k+=1){let v=qt(n,E,k),j=se(v);_.set(j,a[k]=Bt(j,v))}let U=ye(n[36]);const ee=k=>k[90];for(let k=0;k<U.length;k+=1){let v=zt(n,U,k),j=ee(v);z.set(j,w[k]=Rt(j,v))}function x(k){n[70](k)}let de={upload:n[13],stream_handler:n[14],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[8],$$slots:{default:[Wl]},$$scope:{ctx:n}};n[30]!==void 0&&(de.dragging=n[30]),I=new zl({props:de}),he.push(()=>Re(I,"dragging",x)),I.$on("load",n[71]);let Q=n[6]&&Nt(n);return{c(){e=J("div"),p&&p.c(),t=le(),l=J("div"),s=J("table"),B&&B.c(),o=le(),f=J("thead"),i=J("tr");for(let k=0;k<a.length;k+=1)a[k].c();u=le(),d=J("tbody"),m=J("tr");for(let k=0;k<w.length;k+=1)w[k].c();L=le(),ge(I.$$.fragment),q=le(),Q&&Q.c(),this.h()},l(k){e=W(k,"DIV",{class:!0});var v=H(e);p&&p.l(v),t=ne(v),l=W(v,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var j=H(l);s=W(j,"TABLE",{class:!0});var R=H(s);B&&B.l(R),o=ne(R),f=W(R,"THEAD",{class:!0});var ae=H(f);i=W(ae,"TR",{class:!0});var ke=H(i);for(let g=0;g<a.length;g+=1)a[g].l(ke);ke.forEach(y),ae.forEach(y),u=ne(R),d=W(R,"TBODY",{});var ze=H(d);m=W(ze,"TR",{class:!0});var A=H(m);for(let g=0;g<w.length;g+=1)w[g].l(A);A.forEach(y),ze.forEach(y),R.forEach(y),L=ne(j),me(I.$$.fragment,j),j.forEach(y),q=ne(v),Q&&Q.l(v),v.forEach(y),this.h()},h(){b(i,"class","svelte-1x62z9q"),b(f,"class","svelte-1x62z9q"),b(m,"class","svelte-1x62z9q"),b(s,"class","svelte-1x62z9q"),X(s,"fixed-layout",n[12].length!=0),b(l,"class","table-wrap svelte-1x62z9q"),$(l,"height",n[33]+"px"),b(l,"role","grid"),b(l,"tabindex","0"),X(l,"dragging",n[30]),X(l,"no-wrap",!n[7]),b(e,"class","svelte-1x62z9q"),X(e,"label",n[1]&&n[1].length!==0)},m(k,v){K(k,e,v),p&&p.m(e,null),N(e,t),N(e,l),N(l,s),B&&B.m(s,null),N(s,o),N(s,f),N(f,i);for(let j=0;j<a.length;j+=1)a[j]&&a[j].m(i,null);N(s,u),N(s,d),N(d,m);for(let j=0;j<w.length;j+=1)w[j]&&w[j].m(m,null);D=Pt.observe(s,n[55].bind(s)),n[56](s),N(l,L),be(I,l,null),n[72](l),N(e,q),Q&&Q.m(e,null),T=!0,M||(h=[_e(window,"click",n[46]),_e(window,"touchstart",n[46]),_e(window,"resize",n[53]),_e(l,"keydown",n[73]),Vt(vl.call(null,e))],M=!0)},p(k,v){k[1]&&k[1].length!==0&&k[2]?p?p.p(k,v):(p=Tt(k),p.c(),p.m(e,t)):p&&(p.d(1),p=null),k[1]&&k[1].length!==0?B?B.p(k,v):(B=Dt(k),B.c(),B.m(s,o)):B&&(B.d(1),B=null),v[0]&337123616|v[1]&64&&(E=ye(k[26]),Ee(),a=Ue(a,v,se,1,k,E,_,i,je,Bt,null,qt),Ae()),v[0]&4196641|v[1]&32&&(U=ye(k[36]),Ee(),w=Ue(w,v,ee,1,k,U,z,m,je,Rt,null,zt),Ae()),(!T||v[0]&4096)&&X(s,"fixed-layout",k[12].length!=0);const j={};v[0]&8192&&(j.upload=k[13]),v[0]&16384&&(j.stream_handler=k[14]),v[0]&256&&(j.root=k[8]),v[0]&1061129571|v[1]&29|v[3]&16&&(j.$$scope={dirty:v,ctx:k}),!O&&v[0]&1073741824&&(O=!0,j.dragging=k[30],Be(()=>O=!1)),I.$set(j),(!T||v[1]&4)&&$(l,"height",k[33]+"px"),(!T||v[0]&1073741824)&&X(l,"dragging",k[30]),(!T||v[0]&128)&&X(l,"no-wrap",!k[7]),k[6]?Q?(Q.p(k,v),v[0]&64&&F(Q,1)):(Q=Nt(k),Q.c(),F(Q,1),Q.m(e,null)):Q&&(Ee(),Z(Q,1,1,()=>{Q=null}),Ae()),(!T||v[0]&2)&&X(e,"label",k[1]&&k[1].length!==0)},i(k){if(!T){for(let v=0;v<E.length;v+=1)F(a[v]);for(let v=0;v<U.length;v+=1)F(w[v]);F(I.$$.fragment,k),F(Q),T=!0}},o(k){for(let v=0;v<a.length;v+=1)Z(a[v]);for(let v=0;v<w.length;v+=1)Z(w[v]);Z(I.$$.fragment,k),Z(Q),T=!1},d(k){k&&y(e),p&&p.d(),B&&B.d();for(let v=0;v<a.length;v+=1)a[v].d();for(let v=0;v<w.length;v+=1)w[v].d();D(),n[56](null),we(I),n[72](null),Q&&Q.d(),M=!1,Ge(h)}}}function Fe(){return Math.random().toString(36).substring(2,15)}function Gl(n,e){return e.filter(t);function t(l){var s=-1;return n.split(`
`).every(o);function o(f){if(!f)return!0;var i=f.split(l).length;return s<0&&(s=i),s===i&&i>1}}}function Xl(n){const e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),s=new Uint8Array(l);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([l],{type:t})}function Ql(n){let e=n[0].slice();for(let t=0;t<n.length;t++)for(let l=0;l<n[t].length;l++)`${e[l].value}`.length<`${n[t][l].value}`.length&&(e[l]=n[t][l]);return e}function xl(n,e,t){let l,s,{datatype:o}=e,{label:f=null}=e,{show_label:i=!0}=e,{headers:a=[]}=e,{values:_=[]}=e,{col_count:u}=e,{row_count:d}=e,{latex_delimiters:m}=e,{editable:w=!0}=e,{wrap:z=!1}=e,{root:D}=e,{i18n:L}=e,{max_height:I=500}=e,{line_breaks:O=!0}=e,{column_widths:q=[]}=e,{upload:T}=e,{stream_handler:M}=e,h=!1,{display_value:p=null}=e,{styling:B=null}=e,E;const se=Ot();let U=!1;const ee=(r,c)=>{var S,V;return(V=(S=R==null?void 0:R[r])==null?void 0:S[c])==null?void 0:V.value};let x={};function de(r){let c=r||[];if(u[1]==="fixed"&&c.length<u[0]){const S=Array(u[0]-c.length).fill("").map((V,G)=>`${G+c.length}`);c=c.concat(S)}return!c||c.length===0?Array(u[0]).fill(0).map((S,V)=>{const G=Fe();return t(25,x[G]={cell:null,input:null},x),{id:G,value:JSON.stringify(V+1)}}):c.map((S,V)=>{const G=Fe();return t(25,x[G]={cell:null,input:null},x),{id:G,value:S??""}})}function Q(r){const c=r.length;return Array(d[1]==="fixed"||c<d[0]?d[0]:c).fill(0).map((S,V)=>Array(u[1]==="fixed"?u[0]:c>0?r[0].length:a.length).fill(0).map((G,fe)=>{var Ce;const ue=Fe();return t(25,x[ue]=x[ue]||{input:null,cell:null},x),{value:((Ce=r==null?void 0:r[V])==null?void 0:Ce[fe])??"",id:ue}}))}let k=de(a),v;function j(){t(26,k=de(a)),t(51,v=a.slice()),ke()}let R=[[]],ae;async function ke(){se("change",{data:R.map(r=>r.map(({value:c})=>c)),headers:k.map(r=>r.value),metadata:w?null:{display_value:p,styling:B}})}function ze(r,c,S){if(!c)return"none";if(a[c]===r){if(S==="asc")return"ascending";if(S==="des")return"descending"}return"none"}function A(r){return R.reduce((c,S,V)=>{const G=S.reduce((fe,ue,Ne)=>r===ue.id?Ne:fe,-1);return G===-1?c:[V,G]},[-1,-1])}async function g(r,c){!w||pe(U,[r,c])||t(24,U=[r,c])}function C(r,c){var fe;const S={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[r],V=c[0]+S[0],G=c[1]+S[1];if(V<0&&G<=0)t(21,Y=G),t(17,h=!1);else{const ue=(fe=R[V])==null?void 0:fe[G];t(17,h=ue?[V,G]:h)}}let re=!1;async function ie(r){var V;if(Y!==!1&&ve===!1)switch(r.key){case"ArrowDown":t(17,h=[0,Y]),t(21,Y=!1);return;case"ArrowLeft":t(21,Y=Y>0?Y-1:Y);return;case"ArrowRight":t(21,Y=Y<k.length-1?Y+1:Y);return;case"Escape":r.preventDefault(),t(21,Y=!1);break;case"Enter":r.preventDefault();break}if(!h)return;const[c,S]=h;switch(r.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(U)break;r.preventDefault(),C(r.key,[c,S]);break;case"Escape":if(!w)break;r.preventDefault(),t(24,U=!1);break;case"Enter":if(!w)break;r.preventDefault(),r.shiftKey?(et(c),await De(),t(17,h=[c+1,S])):pe(U,[c,S])?(t(24,U=!1),await De(),t(17,h=[c,S])):t(24,U=[c,S]);break;case"Backspace":if(!w)break;U||(r.preventDefault(),t(18,R[c][S].value="",R));break;case"Delete":if(!w)break;U||(r.preventDefault(),t(18,R[c][S].value="",R));break;case"Tab":let G=r.shiftKey?-1:1,fe=R[c][S+G],ue=(V=R==null?void 0:R[c+G])==null?void 0:V[G>0?0:k.length-1];(fe||ue)&&(r.preventDefault(),t(17,h=fe?[c,S+G]:[c+G,G>0?0:k.length-1])),t(24,U=!1);break;default:if(!w)break;(!U||U&&pe(U,[c,S]))&&r.key.length===1&&(t(27,re=!0),t(24,U=[c,S]))}}async function oe(r,c){pe(U,[r,c])||(t(28,ve=!1),t(21,Y=!1),t(24,U=!1),t(17,h=[r,c]),await De(),ce.focus())}let P,te;function Oe(r){typeof te!="number"||te!==r?(t(19,P="asc"),t(20,te=r)):P==="asc"?t(19,P="des"):P==="des"&&t(19,P="asc")}let ve,Je=!1,Y=!1;async function $e(r,c=!1){!w||u[1]!=="dynamic"||ve===r||(t(17,h=!1),t(21,Y=r),t(28,ve=r),t(29,Je=c))}function jt(r){if(w)switch(r.key){case"Escape":case"Enter":case"Tab":r.preventDefault(),t(17,h=!1),t(21,Y=ve),t(28,ve=!1),ce.focus();break}}async function et(r){if(ce.focus(),d[1]==="dynamic"){if(R.length===0){t(50,_=[Array(a.length).fill("")]);return}R.splice(r?r+1:R.length,0,Array(R[0].length).fill(0).map((c,S)=>{const V=Fe();return t(25,x[V]={cell:null,input:null},x),{id:V,value:""}})),t(18,R),t(50,_),t(52,ae),t(17,h=[r?r+1:R.length-1,0])}}async function ft(){if(ce.focus(),u[1]==="dynamic"){for(let r=0;r<R.length;r++){const c=Fe();t(25,x[c]={cell:null,input:null},x),R[r].push({id:c,value:""})}a.push(`Header ${a.length+1}`),t(18,R),t(50,_),t(52,ae),t(49,a),await De(),requestAnimationFrame(()=>{$e(a.length-1,!0);const r=ce.querySelectorAll("tbody")[1].offsetWidth;ce.querySelectorAll("table")[1].scrollTo({left:r})})}}function Jt(r){r.stopImmediatePropagation();const[c]=r.composedPath();ce.contains(c)||(t(24,U=!1),t(28,ve=!1),t(21,Y=!1),t(17,h=!1))}function ut(r){const c=new FileReader;function S(V){var Ne;if(!((Ne=V==null?void 0:V.target)!=null&&Ne.result)||typeof V.target.result!="string")return;const[G]=Gl(V.target.result,[",","	"]),[fe,...ue]=Tl(G).parseRows(V.target.result);t(26,k=de(u[1]==="fixed"?fe.slice(0,u[0]):fe)),t(50,_=ue),c.removeEventListener("loadend",S)}c.addEventListener("loadend",S),c.readAsText(r)}let tt=!1,Pe=[],ce,lt;function We(){const r=Pe.map((c,S)=>(c==null?void 0:c.clientWidth)||0);if(r.length!==0)for(let c=0;c<r.length;c++)ce.style.setProperty(`--cell-width-${c}`,`${r[c]-Ye/r.length}px`)}let nt=_.slice(0,I/_.length*37).length*37+37,Ye=0;function Wt(r,c,S,V,G){let fe=null;if(h&&h[0]in R&&h[1]in R[h[0]]&&(fe=R[h[0]][h[1]].id),typeof V!="number"||!G)return;const ue=[...Array(r.length).keys()];if(G==="asc")ue.sort((qe,Te)=>r[qe][V].value<r[Te][V].value?-1:1);else if(G==="des")ue.sort((qe,Te)=>r[qe][V].value>r[Te][V].value?-1:1);else return;const Ne=[...r],Ce=c?[...c]:null,ht=S?[...S]:null;if(ue.forEach((qe,Te)=>{r[Te]=Ne[qe],c&&Ce&&(c[Te]=Ce[qe]),S&&ht&&(S[Te]=ht[qe])}),t(18,R),t(50,_),t(52,ae),fe){const[qe,Te]=A(fe);t(17,h=[qe,Te])}}let _t=!1;Ct(()=>{const r=new IntersectionObserver((c,S)=>{c.forEach(V=>{V.isIntersecting&&!_t&&(We(),t(18,R),t(50,_),t(52,ae)),_t=V.isIntersecting})});return r.observe(ce),()=>{r.disconnect()}});const Yt=()=>We();function Zt(r,c){he[r?"unshift":"push"](()=>{Pe[c]=r,t(22,Pe)})}function Kt(){var r;E=(r=Ft.entries.get(this))==null?void 0:r.contentRect,t(23,E)}function Gt(r){he[r?"unshift":"push"](()=>{lt=r,t(32,lt)})}function Xt(r,c,S){n.$$.not_equal(R[c][S].value,r)&&(R[c][S].value=r,t(18,R),t(50,_),t(52,ae))}function Qt(r,c){n.$$.not_equal(x[c].input,r)&&(x[c].input=r,t(25,x))}const xt=()=>(t(27,re=!1),ce.focus()),$t=(r,c)=>g(r,c),el=(r,c)=>oe(r,c),tl=(r,c)=>g(r,c);function ll(r,c){n.$$.not_equal(k[c].value,r)&&(k[c].value=r,t(26,k))}function nl(r,c){n.$$.not_equal(x[c].input,r)&&(x[c].input=r,t(25,x))}const sl=r=>$e(r),il=r=>Oe(r);function al(r){R=r,t(18,R),t(50,_),t(52,ae)}function rl(r){nt=r,t(33,nt)}function ol(r){Ye=r,t(34,Ye)}function fl(r){tt=r,t(30,tt)}const ul=r=>ut(Xl(r.detail.data));function _l(r){he[r?"unshift":"push"](()=>{ce=r,t(31,ce)})}const hl=r=>ie(r),cl=r=>(r.stopPropagation(),et()),dl=r=>(r.stopPropagation(),ft());return n.$$set=r=>{"datatype"in r&&t(0,o=r.datatype),"label"in r&&t(1,f=r.label),"show_label"in r&&t(2,i=r.show_label),"headers"in r&&t(49,a=r.headers),"values"in r&&t(50,_=r.values),"col_count"in r&&t(3,u=r.col_count),"row_count"in r&&t(4,d=r.row_count),"latex_delimiters"in r&&t(5,m=r.latex_delimiters),"editable"in r&&t(6,w=r.editable),"wrap"in r&&t(7,z=r.wrap),"root"in r&&t(8,D=r.root),"i18n"in r&&t(9,L=r.i18n),"max_height"in r&&t(10,I=r.max_height),"line_breaks"in r&&t(11,O=r.line_breaks),"column_widths"in r&&t(12,q=r.column_widths),"upload"in r&&t(13,T=r.upload),"stream_handler"in r&&t(14,M=r.stream_handler),"display_value"in r&&t(15,p=r.display_value),"styling"in r&&t(16,B=r.styling)},n.$$.update=()=>{if(n.$$.dirty[1]&2621440&&(pe(_,ae)||(t(18,R=Q(_)),t(52,ae=_))),n.$$.dirty[0]&393216&&h!==!1){const[r,c]=h;!isNaN(r)&&!isNaN(c)&&se("select",{index:[r,c],value:ee(r,c),row_value:R[r].map(S=>S.value)})}n.$$.dirty[1]&1310720&&(pe(a,v)||j()),n.$$.dirty[0]&2359296&&(R||Y)&&ke(),n.$$.dirty[0]&262144&&t(36,l=Ql(R)),n.$$.dirty[0]&4194304&&Pe[0]&&We(),n.$$.dirty[0]&1933312&&Wt(R,p,B,te,P),n.$$.dirty[0]&131072&&t(35,s=!!h&&h[0])},[o,f,i,u,d,m,w,z,D,L,I,O,q,T,M,p,B,h,R,P,te,Y,Pe,E,U,x,k,re,ve,Je,tt,ce,lt,nt,Ye,s,l,ze,g,ie,oe,Oe,$e,jt,et,ft,Jt,ut,We,a,_,v,ae,Yt,Zt,Kt,Gt,Xt,Qt,xt,$t,el,tl,ll,nl,sl,il,al,rl,ol,fl,ul,_l,hl,cl,dl]}class $l extends Xe{constructor(e){super(),Qe(this,e,xl,Kl,Ke,{datatype:0,label:1,show_label:2,headers:49,values:50,col_count:3,row_count:4,latex_delimiters:5,editable:6,wrap:7,root:8,i18n:9,max_height:10,line_breaks:11,column_widths:12,upload:13,stream_handler:14,display_value:15,styling:16},null,[-1,-1,-1,-1])}}const en=$l;function tn(n){let e,t,l,s;const o=[{autoscroll:n[14].autoscroll},{i18n:n[14].i18n},n[17]];let f={};for(let i=0;i<o.length;i+=1)f=kl(f,o[i]);return e=new yl({props:f}),e.$on("clear_status",n[28]),l=new en({props:{root:n[11],label:n[5],show_label:n[6],row_count:n[4],col_count:n[3],values:n[22],display_value:n[20],styling:n[21],headers:n[19],wrap:n[7],datatype:n[8],latex_delimiters:n[15],editable:n[18],max_height:n[16],i18n:n[14].i18n,line_breaks:n[12],column_widths:n[13],upload:n[29],stream_handler:n[30]}}),l.$on("change",n[31]),l.$on("select",n[32]),{c(){ge(e.$$.fragment),t=le(),ge(l.$$.fragment)},l(i){me(e.$$.fragment,i),t=ne(i),me(l.$$.fragment,i)},m(i,a){be(e,i,a),K(i,t,a),be(l,i,a),s=!0},p(i,a){const _=a[0]&147456?El(o,[a[0]&16384&&{autoscroll:i[14].autoscroll},a[0]&16384&&{i18n:i[14].i18n},a[0]&131072&&Al(i[17])]):{};e.$set(_);const u={};a[0]&2048&&(u.root=i[11]),a[0]&32&&(u.label=i[5]),a[0]&64&&(u.show_label=i[6]),a[0]&16&&(u.row_count=i[4]),a[0]&8&&(u.col_count=i[3]),a[0]&4194304&&(u.values=i[22]),a[0]&1048576&&(u.display_value=i[20]),a[0]&2097152&&(u.styling=i[21]),a[0]&524288&&(u.headers=i[19]),a[0]&128&&(u.wrap=i[7]),a[0]&256&&(u.datatype=i[8]),a[0]&32768&&(u.latex_delimiters=i[15]),a[0]&262144&&(u.editable=i[18]),a[0]&65536&&(u.max_height=i[16]),a[0]&16384&&(u.i18n=i[14].i18n),a[0]&4096&&(u.line_breaks=i[12]),a[0]&8192&&(u.column_widths=i[13]),a[0]&16384&&(u.upload=i[29]),a[0]&16384&&(u.stream_handler=i[30]),l.$set(u)},i(i){s||(F(e.$$.fragment,i),F(l.$$.fragment,i),s=!0)},o(i){Z(e.$$.fragment,i),Z(l.$$.fragment,i),s=!1},d(i){i&&y(t),we(e,i),we(l,i)}}}function ln(n){let e,t;return e=new pl({props:{visible:n[2],padding:!1,elem_id:n[0],elem_classes:n[1],container:!1,scale:n[9],min_width:n[10],allow_overflow:!1,$$slots:{default:[tn]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,s){be(e,l,s),t=!0},p(l,s){const o={};s[0]&4&&(o.visible=l[2]),s[0]&1&&(o.elem_id=l[0]),s[0]&2&&(o.elem_classes=l[1]),s[0]&512&&(o.scale=l[9]),s[0]&1024&&(o.min_width=l[10]),s[0]&8387064|s[1]&8&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function nn(n,e,t){var ke,ze,A;let{headers:l=[]}=e,{elem_id:s=""}=e,{elem_classes:o=[]}=e,{visible:f=!0}=e,{value:i={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,a="",{value_is_output:_=!1}=e,{col_count:u}=e,{row_count:d}=e,{label:m=null}=e,{show_label:w=!0}=e,{wrap:z}=e,{datatype:D}=e,{scale:L=null}=e,{min_width:I=void 0}=e,{root:O}=e,{line_breaks:q=!0}=e,{column_widths:T=[]}=e,{gradio:M}=e,{latex_delimiters:h}=e,{max_height:p=void 0}=e,{loading_status:B}=e,{interactive:E}=e,se,U,ee,x;async function de(g){var re,ie,oe,P;let C=g||i;t(19,se=[...C.headers||l]),t(22,x=C.data?[...C.data]:[]),t(20,U=(re=C==null?void 0:C.metadata)!=null&&re.display_value?[...(ie=C==null?void 0:C.metadata)==null?void 0:ie.display_value]:null),t(21,ee=!E&&((oe=C==null?void 0:C.metadata)!=null&&oe.styling)?[...(P=C==null?void 0:C.metadata)==null?void 0:P.styling]:null),await De(),M.dispatch("change"),_||M.dispatch("input")}de(),wl(()=>{t(25,_=!1)}),(Array.isArray(i)&&((ke=i==null?void 0:i[0])==null?void 0:ke.length)===0||((A=(ze=i.data)==null?void 0:ze[0])==null?void 0:A.length)===0)&&(i={data:[Array((u==null?void 0:u[0])||3).fill("")],headers:Array((u==null?void 0:u[0])||3).fill("").map((g,C)=>`${C+1}`),metadata:null});async function Q(g){JSON.stringify(g)!==a&&(t(24,i={...g}),t(27,a=JSON.stringify(i)),de(g))}const k=()=>M.dispatch("clear_status",B),v=(...g)=>M.client.upload(...g),j=(...g)=>M.client.stream(...g),R=g=>Q(g.detail),ae=g=>M.dispatch("select",g.detail);return n.$$set=g=>{"headers"in g&&t(26,l=g.headers),"elem_id"in g&&t(0,s=g.elem_id),"elem_classes"in g&&t(1,o=g.elem_classes),"visible"in g&&t(2,f=g.visible),"value"in g&&t(24,i=g.value),"value_is_output"in g&&t(25,_=g.value_is_output),"col_count"in g&&t(3,u=g.col_count),"row_count"in g&&t(4,d=g.row_count),"label"in g&&t(5,m=g.label),"show_label"in g&&t(6,w=g.show_label),"wrap"in g&&t(7,z=g.wrap),"datatype"in g&&t(8,D=g.datatype),"scale"in g&&t(9,L=g.scale),"min_width"in g&&t(10,I=g.min_width),"root"in g&&t(11,O=g.root),"line_breaks"in g&&t(12,q=g.line_breaks),"column_widths"in g&&t(13,T=g.column_widths),"gradio"in g&&t(14,M=g.gradio),"latex_delimiters"in g&&t(15,h=g.latex_delimiters),"max_height"in g&&t(16,p=g.max_height),"loading_status"in g&&t(17,B=g.loading_status),"interactive"in g&&t(18,E=g.interactive)},n.$$.update=()=>{n.$$.dirty[0]&150994944&&a&&JSON.stringify(i)!==a&&(t(27,a=JSON.stringify(i)),de())},[s,o,f,u,d,m,w,z,D,L,I,O,q,T,M,h,p,B,E,se,U,ee,x,Q,i,_,l,a,k,v,j,R,ae]}class dn extends Xe{constructor(e){super(),Qe(this,e,nn,ln,Ke,{headers:26,elem_id:0,elem_classes:1,visible:2,value:24,value_is_output:25,col_count:3,row_count:4,label:5,show_label:6,wrap:7,datatype:8,scale:9,min_width:10,root:11,line_breaks:12,column_widths:13,gradio:14,latex_delimiters:15,max_height:16,loading_status:17,interactive:18},null,[-1,-1])}}export{en as BaseDataFrame,bn as BaseExample,dn as default};
