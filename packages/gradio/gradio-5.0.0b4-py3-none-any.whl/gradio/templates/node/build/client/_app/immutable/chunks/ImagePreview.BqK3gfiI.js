import{s as X,a as D,z as V,g as B,i as I,f as h,y as Y,J as Z,M,r as y,e as F,c as S,b as q,p as L,q as H,h as T,F as x}from"./scheduler.xQsDa6L3.js";import{S as ee,i as le,c as w,a as p,m as $,g as v,b,e as E,t as _,d as k}from"./index.lnKugwF0.js";import{u as ne,I as C}from"./2.Bbgn9Xo5.js";import{B as te}from"./BlockLabel.EPnqKJ7A.js";import{E as oe}from"./Empty.cyjo30Lv.js";import{S as re}from"./ShareButton.D8AlU4Ik.js";import{D as ae}from"./Download.D3uG4UtN.js";import{M as ie,a as se}from"./Minimize.CLXvCbVC.js";import{I as W}from"./Image.BbdFb7mG.js";import{I as fe}from"./IconButtonWrapper.BqTT2q5U.js";import{g as ue}from"./utils.Gtzs_Zla.js";import{I as ce}from"./Image.BHfoMI0G.js";import{D as me}from"./DownloadLink.CKHw4SYR.js";/* empty css                                                   */function _e(r){let l,t,e,o,a,s,u,f,m;return t=new fe({props:{$$slots:{default:[de]},$$scope:{ctx:r}}}),s=new ce({props:{src:r[0].url,alt:"",loading:"lazy"}}),s.$on("load",r[15]),{c(){l=F("div"),w(t.$$.fragment),e=D(),o=F("button"),a=F("div"),w(s.$$.fragment),this.h()},l(n){l=S(n,"DIV",{class:!0});var i=q(l);p(t.$$.fragment,i),e=B(i),o=S(i,"BUTTON",{class:!0});var d=q(o);a=S(d,"DIV",{class:!0});var g=q(a);p(s.$$.fragment,g),g.forEach(h),d.forEach(h),i.forEach(h),this.h()},h(){L(a,"class","image-frame svelte-1bbirhu"),H(a,"selectable",r[4]),L(o,"class","svelte-1bbirhu"),L(l,"class","image-container svelte-1bbirhu")},m(n,i){I(n,l,i),$(t,l,null),T(l,e),T(l,o),T(o,a),$(s,a,null),r[16](l),u=!0,f||(m=x(o,"click",r[10]),f=!0)},p(n,i){const d={};i&262633&&(d.$$scope={dirty:i,ctx:n}),t.$set(d);const g={};i&1&&(g.src=n[0].url),s.$set(g),(!u||i&16)&&H(a,"selectable",n[4])},i(n){u||(_(t.$$.fragment,n),_(s.$$.fragment,n),u=!0)},o(n){b(t.$$.fragment,n),b(s.$$.fragment,n),u=!1},d(n){n&&h(l),k(t),k(s),r[16](null),f=!1,m()}}}function be(r){let l,t;return l=new oe({props:{unpadded_box:!0,size:"large",$$slots:{default:[he]},$$scope:{ctx:r}}}),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const a={};o&262144&&(a.$$scope={dirty:o,ctx:e}),l.$set(a)},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function J(r){let l,t;return l=new C({props:{Icon:ie,label:r[8]?"Exit full screen":"View in full screen"}}),l.$on("click",r[11]),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const a={};o&256&&(a.label=e[8]?"Exit full screen":"View in full screen"),l.$set(a)},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function O(r){let l,t;return l=new C({props:{Icon:se,label:r[8]?"Exit full screen":"View in full screen"}}),l.$on("click",r[11]),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const a={};o&256&&(a.label=e[8]?"Exit full screen":"View in full screen"),l.$set(a)},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function P(r){let l,t;return l=new me({props:{href:r[0].url,download:r[0].orig_name||"image",$$slots:{default:[ge]},$$scope:{ctx:r}}}),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const a={};o&1&&(a.href=e[0].url),o&1&&(a.download=e[0].orig_name||"image"),o&262208&&(a.$$scope={dirty:o,ctx:e}),l.$set(a)},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function ge(r){let l,t;return l=new C({props:{Icon:ae,label:r[6]("common.download")}}),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const a={};o&64&&(a.label=e[6]("common.download")),l.$set(a)},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function U(r){let l,t;return l=new re({props:{i18n:r[6],formatter:r[12],value:r[0]}}),l.$on("share",r[13]),l.$on("error",r[14]),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},p(e,o){const a={};o&64&&(a.i18n=e[6]),o&1&&(a.value=e[0]),l.$set(a)},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function de(r){let l,t,e,o,a,s=!r[8]&&r[7]&&J(r),u=r[8]&&r[7]&&O(r),f=r[3]&&P(r),m=r[5]&&U(r);return{c(){s&&s.c(),l=D(),u&&u.c(),t=D(),f&&f.c(),e=D(),m&&m.c(),o=V()},l(n){s&&s.l(n),l=B(n),u&&u.l(n),t=B(n),f&&f.l(n),e=B(n),m&&m.l(n),o=V()},m(n,i){s&&s.m(n,i),I(n,l,i),u&&u.m(n,i),I(n,t,i),f&&f.m(n,i),I(n,e,i),m&&m.m(n,i),I(n,o,i),a=!0},p(n,i){!n[8]&&n[7]?s?(s.p(n,i),i&384&&_(s,1)):(s=J(n),s.c(),_(s,1),s.m(l.parentNode,l)):s&&(v(),b(s,1,1,()=>{s=null}),E()),n[8]&&n[7]?u?(u.p(n,i),i&384&&_(u,1)):(u=O(n),u.c(),_(u,1),u.m(t.parentNode,t)):u&&(v(),b(u,1,1,()=>{u=null}),E()),n[3]?f?(f.p(n,i),i&8&&_(f,1)):(f=P(n),f.c(),_(f,1),f.m(e.parentNode,e)):f&&(v(),b(f,1,1,()=>{f=null}),E()),n[5]?m?(m.p(n,i),i&32&&_(m,1)):(m=U(n),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(v(),b(m,1,1,()=>{m=null}),E())},i(n){a||(_(s),_(u),_(f),_(m),a=!0)},o(n){b(s),b(u),b(f),b(m),a=!1},d(n){n&&(h(l),h(t),h(e),h(o)),s&&s.d(n),u&&u.d(n),f&&f.d(n),m&&m.d(n)}}}function he(r){let l,t;return l=new W({}),{c(){w(l.$$.fragment)},l(e){p(l.$$.fragment,e)},m(e,o){$(l,e,o),t=!0},i(e){t||(_(l.$$.fragment,e),t=!0)},o(e){b(l.$$.fragment,e),t=!1},d(e){k(l,e)}}}function we(r){let l,t,e,o,a,s;l=new te({props:{show_label:r[2],Icon:W,label:r[2]?r[1]||r[6]("image.image"):""}});const u=[be,_e],f=[];function m(n,i){return n[0]===null||!n[0].url?0:1}return e=m(r),o=f[e]=u[e](r),{c(){w(l.$$.fragment),t=D(),o.c(),a=V()},l(n){p(l.$$.fragment,n),t=B(n),o.l(n),a=V()},m(n,i){$(l,n,i),I(n,t,i),f[e].m(n,i),I(n,a,i),s=!0},p(n,[i]){const d={};i&4&&(d.show_label=n[2]),i&70&&(d.label=n[2]?n[1]||n[6]("image.image"):""),l.$set(d);let g=e;e=m(n),e===g?f[e].p(n,i):(v(),b(f[g],1,1,()=>{f[g]=null}),E(),o=f[e],o?o.p(n,i):(o=f[e]=u[e](n),o.c()),_(o,1),o.m(a.parentNode,a))},i(n){s||(_(l.$$.fragment,n),_(o),s=!0)},o(n){b(l.$$.fragment,n),b(o),s=!1},d(n){n&&(h(t),h(a)),k(l,n),f[e].d(n)}}}function pe(r,l,t){let{value:e}=l,{label:o=void 0}=l,{show_label:a}=l,{show_download_button:s=!0}=l,{selectable:u=!1}=l,{show_share_button:f=!1}=l,{i18n:m}=l,{show_fullscreen_button:n=!0}=l;const i=Y(),d=c=>{let z=ue(c);z&&i("select",{index:z,value:null})};let g=!1,N;Z(()=>{document.addEventListener("fullscreenchange",()=>{t(8,g=!!document.fullscreenElement)})});const j=async()=>{g?(await document.exitFullscreen(),t(8,g=!g)):await N.requestFullscreen()},A=async c=>c?`<img src="${await ne(c)}" />`:"";function G(c){M.call(this,r,c)}function K(c){M.call(this,r,c)}function Q(c){M.call(this,r,c)}function R(c){y[c?"unshift":"push"](()=>{N=c,t(9,N)})}return r.$$set=c=>{"value"in c&&t(0,e=c.value),"label"in c&&t(1,o=c.label),"show_label"in c&&t(2,a=c.show_label),"show_download_button"in c&&t(3,s=c.show_download_button),"selectable"in c&&t(4,u=c.selectable),"show_share_button"in c&&t(5,f=c.show_share_button),"i18n"in c&&t(6,m=c.i18n),"show_fullscreen_button"in c&&t(7,n=c.show_fullscreen_button)},[e,o,a,s,u,f,m,n,g,N,d,j,A,G,K,Q,R]}class Le extends ee{constructor(l){super(),le(this,l,pe,we,X,{value:0,label:1,show_label:2,show_download_button:3,selectable:4,show_share_button:5,i18n:6,show_fullscreen_button:7})}}export{Le as default};
