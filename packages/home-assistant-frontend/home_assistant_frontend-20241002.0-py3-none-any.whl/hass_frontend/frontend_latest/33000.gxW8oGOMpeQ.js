export const id=33e3;export const ids=[33e3];export const modules={68009:(i,e,t)=>{t.d(e,{A:()=>a});t(253),t(54846),t(16891);function a(i){if(!i||"object"!=typeof i)return i;if("[object Date]"==Object.prototype.toString.call(i))return new Date(i.getTime());if(Array.isArray(i))return i.map(a);var e={};return Object.keys(i).forEach((function(t){e[t]=a(i[t])})),e}},42072:(i,e,t)=>{t(253),t(54846),i.exports=function i(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){!e.hasOwnProperty(t)||null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||Object.isFrozen(e[t])||i(e[t])})),e}},80675:(i,e,t)=>{t.a(i,(async(i,a)=>{try{t.r(e),t.d(e,{HuiDialogSuggestCard:()=>y});var s=t(36312),o=(t(16891),t(42072)),n=t.n(o),r=t(15112),c=t(77706),d=t(34897),h=(t(57641),t(57198)),l=t(55321),g=t(50157),u=t(26566),p=t(23754),f=t(14182),m=t(57898),_=t(90976),v=i([u,m]);[u,m]=v.then?(await v)():v;let y=(0,s.A)([(0,c.EM)("hui-dialog-suggest-card")],(function(i,e){return{F:class extends e{constructor(...e){super(...e),i(this)}},d:[{kind:"field",decorators:[(0,c.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,c.wk)()],key:"_cardConfig",value:void 0},{kind:"field",decorators:[(0,c.wk)()],key:"_sectionConfig",value:void 0},{kind:"field",decorators:[(0,c.wk)()],key:"_saving",value:()=>!1},{kind:"field",decorators:[(0,c.P)("ha-yaml-editor")],key:"_yamlEditor",value:void 0},{kind:"method",key:"showDialog",value:function(i){this._params=i,this._cardConfig=i.cardConfig,this._sectionConfig=i.sectionConfig,Object.isFrozen(this._cardConfig)||(this._cardConfig=n()(this._cardConfig)),Object.isFrozen(this._sectionConfig)||(this._sectionConfig=n()(this._sectionConfig)),this._yamlEditor&&this._yamlEditor.setValue(this._cardConfig)}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,this._cardConfig=void 0,(0,d.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"get",key:"_viewSupportsSection",value:function(){if(!this._params?.lovelaceConfig||!this._params?.path)return!1;const{viewIndex:i}=(0,f.$P)(this._params.path),e=this._params.lovelaceConfig.views[i];return!(0,h.R)(e)&&"sections"===e.type}},{kind:"method",key:"_renderPreview",value:function(){return this._sectionConfig&&this._viewSupportsSection?r.qy` <div class="element-preview"> <hui-section .hass="${this.hass}" .config="${this._sectionConfig}" preview></hui-section> </div> `:this._cardConfig?r.qy` <div class="element-preview"> ${this._cardConfig.map((i=>r.qy` <hui-card .hass="${this.hass}" .config="${i}" preview></hui-card> `))} </div> `:r.s6}},{kind:"method",key:"render",value:function(){return this._params?r.qy` <ha-dialog open scrimClickAction @closed="${this.closeDialog}" .heading="${this.hass.localize("ui.panel.lovelace.editor.suggest_card.header")}"> <div> ${this._renderPreview()} ${this._params.yaml&&this._cardConfig?r.qy` <div class="editor"> <ha-yaml-editor .hass="${this.hass}" .defaultValue="${this._cardConfig}"></ha-yaml-editor> </div> `:r.s6} </div> <mwc-button slot="secondaryAction" @click="${this.closeDialog}" dialogInitialFocus> ${this._params.yaml?this.hass.localize("ui.common.close"):this.hass.localize("ui.common.cancel")} </mwc-button> ${this._params.yaml?r.s6:r.qy` ${this._sectionConfig&&this._viewSupportsSection?r.s6:r.qy` <mwc-button slot="primaryAction" @click="${this._pickCard}"> ${this.hass.localize("ui.panel.lovelace.editor.suggest_card.create_own")} </mwc-button> `} <mwc-button slot="primaryAction" .disabled="${this._saving}" @click="${this._save}"> ${this._saving?r.qy` <ha-circular-progress indeterminate aria-label="Saving" size="small"></ha-circular-progress> `:this.hass.localize("ui.panel.lovelace.editor.suggest_card.add")} </mwc-button> `} </ha-dialog> `:r.s6}},{kind:"get",static:!0,key:"styles",value:function(){return[l.nA,r.AH`@media all and (max-width:450px),all and (max-height:500px){ha-dialog{max-height:100%;height:100%}}@media all and (min-width:850px){ha-dialog{width:845px}}ha-dialog{max-width:845px;--dialog-z-index:6}.hidden{display:none}.element-preview{position:relative}hui-card,hui-section{padding-top:8px;margin:4px auto;max-width:390px;display:block;width:100%}.editor{padding-top:16px}`]}},{kind:"method",key:"_pickCard",value:function(){this._params?.lovelaceConfig&&this._params?.path&&this._params?.saveConfig&&((0,_.u)(this,{lovelaceConfig:this._params.lovelaceConfig,saveConfig:this._params.saveConfig,path:this._params.path,entities:this._params.entities}),this.closeDialog())}},{kind:"method",key:"_computeNewConfig",value:function(i,e){if(!this._viewSupportsSection)return(0,p.DU)(i,e,this._cardConfig);const{viewIndex:t,sectionIndex:a}=(0,f.$P)(e);if(void 0===a){const e=this._sectionConfig??{type:"grid",cards:this._cardConfig};return(0,p.Bn)(i,t,e)}const s=this._sectionConfig?this._sectionConfig.cards||[]:this._cardConfig;return(0,p.DU)(i,[t,a],s)}},{kind:"method",key:"_save",value:async function(){if(!(this._params?.lovelaceConfig&&this._params?.path&&this._params?.saveConfig&&this._cardConfig))return;this._saving=!0;const i=this._computeNewConfig(this._params.lovelaceConfig,this._params.path);await this._params.saveConfig(i),this._saving=!1,(0,g.f)(this,this.hass),this.closeDialog()}}]}}),r.WF);a()}catch(i){a(i)}}))},50157:(i,e,t)=>{t.d(e,{f:()=>s});var a=t(18589);const s=(i,e)=>(0,a.P)(i,{message:e.localize("ui.common.successfully_saved")})}};
//# sourceMappingURL=33000.gxW8oGOMpeQ.js.map