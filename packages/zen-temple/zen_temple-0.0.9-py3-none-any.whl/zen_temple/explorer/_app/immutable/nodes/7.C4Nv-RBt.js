import{s as kt,e as C,a as $,t as Qe,c as y,b as J,g as O,d as We,f as b,o as w,i as V,h as k,A as et,j as wt,n as $e,C as Dt,H as Ht,G as It,r as W,m as fe,v as Ne,w as X,B as Vt,F as xe,x as tt}from"../chunks/scheduler.Bjr9RZaN.js";import{S as Ct,i as yt,b as Z,c as ye,d as Ee,m as De,t as v,a as D,e as we,f as He,g as Ce}from"../chunks/index.NoFf4Nre.js";import{e as lt}from"../chunks/each.D6YF6ztN.js";import{S as Tt,f as Pe,B as St,g as Fe,r as qe}from"../chunks/utils.B-k6XDWc.js";import{R as Lt,A as Oe}from"../chunks/Radio.D-A72FRT.js";function Mt(e){let t,n,r,s,d,c=(e[0]?e[1][0]:e[1][1])+"",i,a,o,p;return{c(){t=C("div"),n=C("input"),s=$(),d=C("label"),i=Qe(c),this.h()},l(l){t=y(l,"DIV",{class:!0});var _=J(t);n=y(_,"INPUT",{type:!0,class:!0,id:!0}),s=O(_),d=y(_,"LABEL",{class:!0,for:!0});var u=J(d);i=We(u,c),u.forEach(b),_.forEach(b),this.h()},h(){w(n,"type","checkbox"),w(n,"class","btn-check"),w(n,"id",r="btn-check-outlined"+e[2]),w(d,"class","btn btn-outline-primary btn-sm"),w(d,"for",a="btn-check-outlined"+e[2]),w(t,"class","toggle")},m(l,_){V(l,t,_),k(t,n),n.checked=e[0],k(t,s),k(t,d),k(d,i),o||(p=[et(n,"change",e[4]),et(n,"change",e[5])],o=!0)},p(l,[_]){_&4&&r!==(r="btn-check-outlined"+l[2])&&w(n,"id",r),_&1&&(n.checked=l[0]),_&3&&c!==(c=(l[0]?l[1][0]:l[1][1])+"")&&wt(i,c),_&4&&a!==(a="btn-check-outlined"+l[2])&&w(d,"for",a)},i:$e,o:$e,d(l){l&&b(t),o=!1,Dt(p)}}}function $t(e,t,n){let{value:r}=t,{texts:s=["on","off"]}=t,d="";Ht(()=>{n(2,d=Math.random().toString(16).slice(2))});const c=It();function i(){r=this.checked,n(0,r)}const a=()=>{c("change")};return e.$$set=o=>{"value"in o&&n(0,r=o.value),"texts"in o&&n(1,s=o.texts)},[r,s,d,c,i,a]}class Et extends Ct{constructor(t){super(),yt(this,t,$t,Mt,kt,{value:0,texts:1})}}function nt(e,t,n){const r=e.slice();return r[64]=t[n],r[65]=t,r[66]=n,r}function st(e){let t,n,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCost" aria-expanded="false" aria-controls="collapseCost">Cost selection</button>',s,d,c,i,a,o,p='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Technology and Carrier Selection</button>',l,_,u,g,q="Technologies (for Capex/Opex)",S,le,ue,he,T,ge,K,j,L='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',A,oe,pe,se,ve,H,ce,Ie="Aggregation",B,N,me,Se,m,z,ie,de=lt(Object.keys(e[22])),I=[];for(let h=0;h<de.length;h+=1)I[h]=ot(nt(e,de,h));const Le=h=>D(I[h],1,1,()=>{I[h]=null});let P=e[11].length>0&&it(e),F=e[13].length>0&&rt(e),R=e[15].length>0&&ct(e),Y=e[18].length>0&&dt(e),x=e[19].length>0&&ft(e);function Xe(h){e[48](h)}function Ze(h){e[49](h)}let Ae={};e[20]!==void 0&&(Ae.options=e[20]),e[21]!==void 0&&(Ae.selected_option=e[21]),N=new Lt({props:Ae}),W.push(()=>Z(N,"options",Xe)),W.push(()=>Z(N,"selected_option",Ze)),N.$on("selection-changed",e[50]);let ee=e[21]==e[20][1]&&_t(e),te=e[6]&&ut(e);return{c(){t=C("div"),n=C("h2"),n.innerHTML=r,s=$(),d=C("div"),c=C("div");for(let h=0;h<I.length;h+=1)I[h].c();i=$(),a=C("div"),o=C("h2"),o.innerHTML=p,l=$(),_=C("div"),u=C("div"),g=C("h3"),g.textContent=q,S=$(),P&&P.c(),le=$(),F&&F.c(),ue=$(),R&&R.c(),he=$(),Y&&Y.c(),T=$(),x&&x.c(),ge=$(),K=C("div"),j=C("h2"),j.innerHTML=L,A=$(),oe=C("div"),pe=C("div"),se=C("div"),ve=C("div"),H=C("div"),ce=C("h3"),ce.textContent=Ie,B=$(),ye(N.$$.fragment),m=$(),ee&&ee.c(),z=$(),te&&te.c(),this.h()},l(h){t=y(h,"DIV",{class:!0});var E=J(t);n=y(E,"H2",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1y9fyqz"&&(n.innerHTML=r),s=O(E),d=y(E,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ke=J(d);c=y(ke,"DIV",{class:!0});var ae=J(c);for(let Be=0;Be<I.length;Be+=1)I[Be].l(ae);ae.forEach(b),ke.forEach(b),E.forEach(b),i=O(h),a=y(h,"DIV",{class:!0});var Te=J(a);o=y(Te,"H2",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-c8inc9"&&(o.innerHTML=p),l=O(Te),_=y(Te,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ge=J(_);u=y(Ge,"DIV",{class:!0});var be=J(u);g=y(be,"H3",{"data-svelte-h":!0}),fe(g)!=="svelte-17gugf8"&&(g.textContent=q),S=O(be),P&&P.l(be),le=O(be),F&&F.l(be),ue=O(be),R&&R.l(be),he=O(be),Y&&Y.l(be),T=O(be),x&&x.l(be),be.forEach(b),Ge.forEach(b),Te.forEach(b),ge=O(h),K=y(h,"DIV",{class:!0});var je=J(K);j=y(je,"H2",{class:!0,"data-svelte-h":!0}),fe(j)!=="svelte-hz94lo"&&(j.innerHTML=L),A=O(je),oe=y(je,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ue=J(oe);pe=y(Ue,"DIV",{class:!0});var Je=J(pe);se=y(Je,"DIV",{class:!0});var Me=J(se);ve=y(Me,"DIV",{class:!0});var Ke=J(ve);H=y(Ke,"DIV",{class:!0});var ze=J(H);ce=y(ze,"H3",{"data-svelte-h":!0}),fe(ce)!=="svelte-126hufg"&&(ce.textContent=Ie),B=O(ze),Ee(N.$$.fragment,ze),ze.forEach(b),Ke.forEach(b),m=O(Me),ee&&ee.l(Me),z=O(Me),te&&te.l(Me),Me.forEach(b),Je.forEach(b),Ue.forEach(b),je.forEach(b),this.h()},h(){w(n,"class","accordion-header"),w(c,"class","accordion-body"),w(d,"id","collapseCost"),w(d,"class","accordion-collapse collapse"),w(d,"data-bs-parent","#accordionExample"),w(t,"class","accordion-item"),w(o,"class","accordion-header"),w(u,"class","accordion-body"),w(_,"id","collapseTwo"),w(_,"class","accordion-collapse collapse"),w(_,"data-bs-parent","#accordionExample"),w(a,"class","accordion-item"),w(j,"class","accordion-header"),w(H,"class","col-6"),w(ve,"class","row"),w(se,"class","accordion-body"),w(pe,"class","accordion-body"),w(oe,"id","collapseThree"),w(oe,"class","accordion-collapse collapse"),w(oe,"data-bs-parent","#accordionExample"),w(K,"class","accordion-item")},m(h,E){V(h,t,E),k(t,n),k(t,s),k(t,d),k(d,c);for(let ke=0;ke<I.length;ke+=1)I[ke]&&I[ke].m(c,null);V(h,i,E),V(h,a,E),k(a,o),k(a,l),k(a,_),k(_,u),k(u,g),k(u,S),P&&P.m(u,null),k(u,le),F&&F.m(u,null),k(u,ue),R&&R.m(u,null),k(u,he),Y&&Y.m(u,null),k(u,T),x&&x.m(u,null),V(h,ge,E),V(h,K,E),k(K,j),k(K,A),k(K,oe),k(oe,pe),k(pe,se),k(se,ve),k(ve,H),k(H,ce),k(H,B),De(N,H,null),k(se,m),ee&&ee.m(se,null),k(se,z),te&&te.m(se,null),ie=!0},p(h,E){if(E[0]&20971520){de=lt(Object.keys(h[22]));let ae;for(ae=0;ae<de.length;ae+=1){const Te=nt(h,de,ae);I[ae]?(I[ae].p(Te,E),v(I[ae],1)):(I[ae]=ot(Te),I[ae].c(),v(I[ae],1),I[ae].m(c,null))}for(Ce(),ae=de.length;ae<I.length;ae+=1)Le(ae);we()}h[11].length>0?P?(P.p(h,E),E[0]&2048&&v(P,1)):(P=it(h),P.c(),v(P,1),P.m(u,le)):P&&(Ce(),D(P,1,1,()=>{P=null}),we()),h[13].length>0?F?(F.p(h,E),E[0]&8192&&v(F,1)):(F=rt(h),F.c(),v(F,1),F.m(u,ue)):F&&(Ce(),D(F,1,1,()=>{F=null}),we()),h[15].length>0?R?(R.p(h,E),E[0]&32768&&v(R,1)):(R=ct(h),R.c(),v(R,1),R.m(u,he)):R&&(Ce(),D(R,1,1,()=>{R=null}),we()),h[18].length>0?Y?(Y.p(h,E),E[0]&262144&&v(Y,1)):(Y=dt(h),Y.c(),v(Y,1),Y.m(u,T)):Y&&(Ce(),D(Y,1,1,()=>{Y=null}),we()),h[19].length>0?x?(x.p(h,E),E[0]&524288&&v(x,1)):(x=ft(h),x.c(),v(x,1),x.m(u,null)):x&&(Ce(),D(x,1,1,()=>{x=null}),we());const ke={};!me&&E[0]&1048576&&(me=!0,ke.options=h[20],X(()=>me=!1)),!Se&&E[0]&2097152&&(Se=!0,ke.selected_option=h[21],X(()=>Se=!1)),N.$set(ke),h[21]==h[20][1]?ee?(ee.p(h,E),E[0]&3145728&&v(ee,1)):(ee=_t(h),ee.c(),v(ee,1),ee.m(se,z)):ee&&(Ce(),D(ee,1,1,()=>{ee=null}),we()),h[6]?te?(te.p(h,E),E[0]&64&&v(te,1)):(te=ut(h),te.c(),v(te,1),te.m(se,null)):te&&(Ce(),D(te,1,1,()=>{te=null}),we())},i(h){if(!ie){for(let E=0;E<de.length;E+=1)v(I[E]);v(P),v(F),v(R),v(Y),v(x),v(N.$$.fragment,h),v(ee),v(te),ie=!0}},o(h){I=I.filter(Boolean);for(let E=0;E<I.length;E+=1)D(I[E]);D(P),D(F),D(R),D(Y),D(x),D(N.$$.fragment,h),D(ee),D(te),ie=!1},d(h){h&&(b(t),b(i),b(a),b(ge),b(K)),Vt(I,h),P&&P.d(),F&&F.d(),R&&R.d(),Y&&Y.d(),x&&x.d(),He(N),ee&&ee.d(),te&&te.d()}}}function at(e){let t,n,r,s;function d(i){e[32](i,e[64])}let c={};return e[22][e[64]].subdivision!==void 0&&(c.value=e[22][e[64]].subdivision),n=new Et({props:c}),W.push(()=>Z(n,"value",d)),n.$on("change",e[24]),{c(){t=Qe(`Subdivision
											`),ye(n.$$.fragment)},l(i){t=We(i,`Subdivision
											`),Ee(n.$$.fragment,i)},m(i,a){V(i,t,a),De(n,i,a),s=!0},p(i,a){e=i;const o={};!r&&a[0]&4194304&&(r=!0,o.value=e[22][e[64]].subdivision,X(()=>r=!1)),n.$set(o)},i(i){s||(v(n.$$.fragment,i),s=!0)},o(i){D(n.$$.fragment,i),s=!1},d(i){i&&b(t),He(n,i)}}}function ot(e){let t,n,r=e[22][e[64]].title+"",s,d,c,i,a,o,p,l;function _(q){e[31](q,e[64])}let u={};e[22][e[64]].show!==void 0&&(u.value=e[22][e[64]].show),i=new Et({props:u}),W.push(()=>Z(i,"value",_)),i.$on("change",e[24]);let g=e[22][e[64]].show&&e[64]!="carbon_emission"&&at(e);return{c(){t=C("div"),n=C("h4"),s=Qe(r),d=Qe(" :"),c=$(),ye(i.$$.fragment),o=$(),g&&g.c(),p=$(),this.h()},l(q){t=y(q,"DIV",{class:!0});var S=J(t);n=y(S,"H4",{});var le=J(n);s=We(le,r),d=We(le," :"),le.forEach(b),c=O(S),Ee(i.$$.fragment,S),o=O(S),g&&g.l(S),p=O(S),S.forEach(b),this.h()},h(){w(t,"class","d-flex")},m(q,S){V(q,t,S),k(t,n),k(n,s),k(n,d),k(t,c),De(i,t,null),k(t,o),g&&g.m(t,null),k(t,p),l=!0},p(q,S){e=q,(!l||S[0]&4194304)&&r!==(r=e[22][e[64]].title+"")&&wt(s,r);const le={};!a&&S[0]&4194304&&(a=!0,le.value=e[22][e[64]].show,X(()=>a=!1)),i.$set(le),e[22][e[64]].show&&e[64]!="carbon_emission"?g?(g.p(e,S),S[0]&4194304&&v(g,1)):(g=at(e),g.c(),v(g,1),g.m(t,p)):g&&(Ce(),D(g,1,1,()=>{g=null}),we())},i(q){l||(v(i.$$.fragment,q),v(g),l=!0)},o(q){D(i.$$.fragment,q),D(g),l=!1},d(q){q&&b(t),He(i),g&&g.d()}}}function it(e){let t,n="Transport",r,s,d,c,i;function a(l){e[33](l)}function o(l){e[34](l)}let p={};return e[12]!==void 0&&(p.selected_elements=e[12]),e[11]!==void 0&&(p.elements=e[11]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[35]),{c(){t=C("h4"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(l){t=y(l,"H4",{"data-svelte-h":!0}),fe(t)!=="svelte-1tmas69"&&(t.textContent=n),r=O(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&4096&&(d=!0,u.selected_elements=l[12],X(()=>d=!1)),!c&&_[0]&2048&&(c=!0,u.elements=l[11],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function rt(e){let t,n="Storage",r,s,d,c,i;function a(l){e[36](l)}function o(l){e[37](l)}let p={};return e[14]!==void 0&&(p.selected_elements=e[14]),e[13]!==void 0&&(p.elements=e[13]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[38]),{c(){t=C("h4"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(l){t=y(l,"H4",{"data-svelte-h":!0}),fe(t)!=="svelte-hjv5od"&&(t.textContent=n),r=O(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&16384&&(d=!0,u.selected_elements=l[14],X(()=>d=!1)),!c&&_[0]&8192&&(c=!0,u.elements=l[13],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function ct(e){let t,n="Conversion",r,s,d,c,i;function a(l){e[39](l)}function o(l){e[40](l)}let p={};return e[16]!==void 0&&(p.selected_elements=e[16]),e[15]!==void 0&&(p.elements=e[15]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[41]),{c(){t=C("h4"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(l){t=y(l,"H4",{"data-svelte-h":!0}),fe(t)!=="svelte-ad5jza"&&(t.textContent=n),r=O(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&65536&&(d=!0,u.selected_elements=l[16],X(()=>d=!1)),!c&&_[0]&32768&&(c=!0,u.elements=l[15],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function dt(e){let t,n="Cost of Carrier",r,s,d,c,i;function a(l){e[42](l)}function o(l){e[43](l)}let p={};return e[7]!==void 0&&(p.selected_elements=e[7]),e[18]!==void 0&&(p.elements=e[18]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[44]),{c(){t=C("h3"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(l){t=y(l,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-bhb6z8"&&(t.textContent=n),r=O(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&128&&(d=!0,u.selected_elements=l[7],X(()=>d=!1)),!c&&_[0]&262144&&(c=!0,u.elements=l[18],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function ft(e){let t,n="Shed Demand",r,s,d,c,i;function a(l){e[45](l)}function o(l){e[46](l)}let p={};return e[8]!==void 0&&(p.selected_elements=e[8]),e[19]!==void 0&&(p.elements=e[19]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[47]),{c(){t=C("h3"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(l){t=y(l,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-13kd4c5"&&(t.textContent=n),r=O(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&256&&(d=!0,u.selected_elements=l[8],X(()=>d=!1)),!c&&_[0]&524288&&(c=!0,u.elements=l[19],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function _t(e){let t,n="Location",r,s,d,c;function i(o){e[51](o)}let a={elements:e[3]};return e[4]!==void 0&&(a.selected_elements=e[4]),s=new Oe({props:a}),W.push(()=>Z(s,"selected_elements",i)),s.$on("selection-changed",e[52]),{c(){t=C("h3"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(o){t=y(o,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-15gguv3"&&(t.textContent=n),r=O(o),Ee(s.$$.fragment,o)},m(o,p){V(o,t,p),V(o,r,p),De(s,o,p),c=!0},p(o,p){const l={};p[0]&8&&(l.elements=o[3]),!d&&p[0]&16&&(d=!0,l.selected_elements=o[4],X(()=>d=!1)),s.$set(l)},i(o){c||(v(s.$$.fragment,o),c=!0)},o(o){D(s.$$.fragment,o),c=!1},d(o){o&&(b(t),b(r)),He(s,o)}}}function ut(e){let t,n="Year",r,s,d,c;function i(o){e[53](o)}let a={elements:e[2]};return e[6]!==void 0&&(a.selected_elements=e[6]),s=new Oe({props:a}),W.push(()=>Z(s,"selected_elements",i)),s.$on("selection-changed",e[54]),{c(){t=C("h3"),t.textContent=n,r=$(),ye(s.$$.fragment)},l(o){t=y(o,"H3",{"data-svelte-h":!0}),fe(t)!=="svelte-r9e7qt"&&(t.textContent=n),r=O(o),Ee(s.$$.fragment,o)},m(o,p){V(o,t,p),V(o,r,p),De(s,o,p),c=!0},p(o,p){const l={};p[0]&4&&(l.elements=o[2]),!d&&p[0]&64&&(d=!0,l.selected_elements=o[6],X(()=>d=!1)),s.$set(l)},i(o){c||(v(s.$$.fragment,o),c=!0)},o(o){D(s.$$.fragment,o),c=!1},d(o){o&&(b(t),b(r)),He(s,o)}}}function Ot(e){let t,n,r,s;const d=[qt,zt],c=[];function i(a,o){return a[23].data.datasets.length==0||a[23].data.datasets[0].data.length==0?0:1}return t=i(e),n=c[t]=d[t](e),{c(){n.c(),r=tt()},l(a){n.l(a),r=tt()},m(a,o){c[t].m(a,o),V(a,r,o),s=!0},p(a,o){let p=t;t=i(a),t===p?c[t].p(a,o):(Ce(),D(c[p],1,1,()=>{c[p]=null}),we(),n=c[t],n?n.p(a,o):(n=c[t]=d[t](a),n.c()),v(n,1),n.m(r.parentNode,r))},i(a){s||(v(n),s=!0)},o(a){D(n),s=!1},d(a){a&&b(r),c[t].d(a)}}}function jt(e){let t,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){t=C("div"),t.innerHTML=n,this.h()},l(r){t=y(r,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1a5ljpq"&&(t.innerHTML=n),this.h()},h(){w(t,"class","text-center")},m(r,s){V(r,t,s)},p:$e,i:$e,o:$e,d(r){r&&b(t)}}}function zt(e){let t,n,r,s;function d(a){e[55](a)}function c(a){e[56](a)}let i={};return e[23]!==void 0&&(i.config=e[23]),e[5].detail.system.reference_year!==void 0&&(i.year_offset=e[5].detail.system.reference_year),t=new St({props:i}),W.push(()=>Z(t,"config",d)),W.push(()=>Z(t,"year_offset",c)),{c(){ye(t.$$.fragment)},l(a){Ee(t.$$.fragment,a)},m(a,o){De(t,a,o),s=!0},p(a,o){const p={};!n&&o[0]&8388608&&(n=!0,p.config=a[23],X(()=>n=!1)),!r&&o[0]&32&&(r=!0,p.year_offset=a[5].detail.system.reference_year,X(()=>r=!1)),t.$set(p)},i(a){s||(v(t.$$.fragment,a),s=!0)},o(a){D(t.$$.fragment,a),s=!1},d(a){He(t,a)}}}function qt(e){let t,n="No data with this selection.";return{c(){t=C("div"),t.textContent=n,this.h()},l(r){t=y(r,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1doxial"&&(t.textContent=n),this.h()},h(){w(t,"class","text-center")},m(r,s){V(r,t,s)},p:$e,i:$e,o:$e,d(r){r&&b(t)}}}function At(e){let t,n="Costs",r,s,d,c,i,a,o,p='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',l,_,u,g,q,S,le,ue,he,T,ge,K,j,L,A,oe;function pe(m){e[26](m)}function se(m){e[27](m)}function ve(m){e[28](m)}function H(m){e[29](m)}function ce(m){e[30](m)}let Ie={enabled:!e[9]&&!e[10]};e[0]!==void 0&&(Ie.carriers=e[0]),e[1]!==void 0&&(Ie.nodes=e[1]),e[2]!==void 0&&(Ie.years=e[2]),e[5]!==void 0&&(Ie.selected_solution=e[5]),e[9]!==void 0&&(Ie.loading=e[9]),g=new Tt({props:Ie}),W.push(()=>Z(g,"carriers",pe)),W.push(()=>Z(g,"nodes",se)),W.push(()=>Z(g,"years",ve)),W.push(()=>Z(g,"selected_solution",H)),W.push(()=>Z(g,"loading",ce)),g.$on("solution_selected",e[25]);let B=!e[10]&&!e[9]&&e[17]&&e[5]!=null&&st(e);const N=[jt,Ot],me=[];function Se(m,z){return m[9]||m[10]?0:m[5]!=null?1:-1}return~(L=Se(e))&&(A=me[L]=N[L](e)),{c(){t=C("h2"),t.textContent=n,r=$(),s=C("div"),d=C("div"),c=C("div"),i=C("div"),a=C("div"),o=C("h2"),o.innerHTML=p,l=$(),_=C("div"),u=C("div"),ye(g.$$.fragment),T=$(),B&&B.c(),ge=$(),K=C("div"),j=C("div"),A&&A.c(),this.h()},l(m){t=y(m,"H2",{"data-svelte-h":!0}),fe(t)!=="svelte-lt28jw"&&(t.textContent=n),r=O(m),s=y(m,"DIV",{class:!0});var z=J(s);d=y(z,"DIV",{class:!0,style:!0});var ie=J(d);c=y(ie,"DIV",{class:!0,style:!0});var de=J(c);i=y(de,"DIV",{class:!0,id:!0});var I=J(i);a=y(I,"DIV",{class:!0});var Le=J(a);o=y(Le,"H2",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-64kjki"&&(o.innerHTML=p),l=O(Le),_=y(Le,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var P=J(_);u=y(P,"DIV",{class:!0});var F=J(u);Ee(g.$$.fragment,F),F.forEach(b),P.forEach(b),Le.forEach(b),T=O(I),B&&B.l(I),I.forEach(b),de.forEach(b),ie.forEach(b),z.forEach(b),ge=O(m),K=y(m,"DIV",{class:!0});var R=J(K);j=y(R,"DIV",{class:!0,style:!0});var Y=J(j);A&&A.l(Y),Y.forEach(b),R.forEach(b),this.h()},h(){w(o,"class","accordion-header"),w(u,"class","accordion-body"),w(_,"id","collapseOne"),w(_,"class","accordion-collapse collapse show"),w(_,"data-bs-parent","#accordionExample"),w(a,"class","accordion-item solution-selection"),w(i,"class","accordion"),w(i,"id","accordionExample"),w(c,"class","filters"),Ne(c,"position","absolute"),Ne(c,"width","100%"),w(d,"class","col position-relative"),Ne(d,"z-index","1"),Ne(d,"position","relative"),w(s,"class","row"),w(j,"class","col"),Ne(j,"margin-top","400px"),w(K,"class","row")},m(m,z){V(m,t,z),V(m,r,z),V(m,s,z),k(s,d),k(d,c),k(c,i),k(i,a),k(a,o),k(a,l),k(a,_),k(_,u),De(g,u,null),k(i,T),B&&B.m(i,null),V(m,ge,z),V(m,K,z),k(K,j),~L&&me[L].m(j,null),oe=!0},p(m,z){const ie={};z[0]&1536&&(ie.enabled=!m[9]&&!m[10]),!q&&z[0]&1&&(q=!0,ie.carriers=m[0],X(()=>q=!1)),!S&&z[0]&2&&(S=!0,ie.nodes=m[1],X(()=>S=!1)),!le&&z[0]&4&&(le=!0,ie.years=m[2],X(()=>le=!1)),!ue&&z[0]&32&&(ue=!0,ie.selected_solution=m[5],X(()=>ue=!1)),!he&&z[0]&512&&(he=!0,ie.loading=m[9],X(()=>he=!1)),g.$set(ie),!m[10]&&!m[9]&&m[17]&&m[5]!=null?B?(B.p(m,z),z[0]&132640&&v(B,1)):(B=st(m),B.c(),v(B,1),B.m(i,null)):B&&(Ce(),D(B,1,1,()=>{B=null}),we());let de=L;L=Se(m),L===de?~L&&me[L].p(m,z):(A&&(Ce(),D(me[de],1,1,()=>{me[de]=null}),we()),~L?(A=me[L],A?A.p(m,z):(A=me[L]=N[L](m),A.c()),v(A,1),A.m(j,null)):A=null)},i(m){oe||(v(g.$$.fragment,m),v(B),v(A),oe=!0)},o(m){D(g.$$.fragment,m),D(B),D(A),oe=!1},d(m){m&&(b(t),b(r),b(s),b(ge),b(K)),He(g),B&&B.d(),~L&&me[L].d()}}}let ht="",Bt="not_normalized",pt=null,U="Techology / Carrier";const Re=" (Capex)",Ye=" (Opex)",mt="Capex",bt="Opex",gt="Carrier",vt="Shed Demand";function Nt(e,t,n){let r=[],s=[],d=[],c=[],i=[],a=null,o=[],p=[],l=[],_=!1,u=!1,g=[],q=[],S=[],le=[],ue=[],he=[],T,ge,K,j,L,A,oe=[],pe=[],se=[U,"Location"],ve=se[1],H={capex:{title:"Capex",show:!0,subdivision:!1},opex:{title:"Opex",show:!0,subdivision:!1},carrier:{title:"Carrier",show:!0,subdivision:!1},shed_demand:{title:"Shed Demand",show:!0,subdivision:!1},carbon_emission:{title:"Carbon Emissions",show:!0,subdivision:!1}},ce={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:pt+" ["+ht+"]"}}}}};async function Ie(){if(a!=null){n(10,u=!0),await xe(),n(17,j=await Fe(a.solution_name,"capex_yearly",a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years)),L=await Fe(a.solution_name,"opex_yearly",a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),ge=await Fe(a.solution_name,"cost_carbon_emissions_total",a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),K=await Fe(a.solution_name,"cost_carrier",a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),A=await Fe(a.solution_name,"shed_demand",a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),qe(K.data,"node","location"),qe(A.data,"node","location"),qe(L.data,"technology",U),qe(j.data,"technology",U),qe(K.data,"carrier",U),qe(A.data,"carrier",U);for(let f in j.data.data)n(17,j.data.data[f][U]=j.data.data[f][U]+Re,j);for(let f in L.data.data)L.data.data[f][U]=L.data.data[f][U]+Ye;n(3,c=Object.keys(a.detail.edges).concat(a.detail.system.set_nodes)),n(10,u=!1)}}function B(f){n(10,u=!0),T={data:[]};let re=structuredClone(K.data);re.data=re.data.filter(ne=>p.includes(ne[U]));let _e=structuredClone(A.data);if(_e.data=_e.data.filter(ne=>l.includes(ne[U])),H.capex.show)if(H.capex.subdivision)T.data=T.data.concat(j.data.data);else{let ne={};ne[U]=f;let G=Pe(j.data.data,{location:i},ne,[],!1);for(let Q in G)G[Q].data.location=G[Q].label,G[Q].data[U]=mt,T.data.push(G[Q].data)}if(H.opex.show)if(H.opex.subdivision)T.data=T.data.concat(L.data.data);else{let ne={};ne[U]=f;let G=Pe(L.data.data,{location:i},ne,[],!1);for(let Q in G)G[Q].data.location=G[Q].label,G[Q].data[U]=bt,T.data.push(G[Q].data)}if(H.carrier.show)if(H.carrier.subdivision)T.data=T.data.concat(re.data);else{let ne={};ne[U]=f;let G=Pe(re.data,{location:i},ne,[],!1);for(let Q in G)G[Q].data.location=G[Q].label,G[Q].data[U]=gt,T.data.push(G[Q].data)}if(H.shed_demand.show)if(H.shed_demand.subdivision)T.data=T.data.concat(_e.data);else{let ne={};ne[U]=f;let G=Pe(_e.data,{location:i},ne,[],!1);for(let Q in G)G[Q].data.location=G[Q].label,G[Q].data[U]=vt,T.data.push(G[Q].data)}if(T.data.length==0){T=void 0,n(10,u=!1);return}let M=new Set;T.data=T.data.filter(ne=>ne!=null);for(const ne of T.data)M.add(ne.location);n(3,c=Array.from(M)),n(10,u=!1)}function N(){n(10,u=!0);let f={},re={},_e=[];for(const Ve of he)_e.push(Ve+Re),_e.push(Ve+Ye);for(const Ve of le)_e.push(Ve+Re),_e.push(Ve+Ye);for(const Ve of q)_e.push(Ve+Re),_e.push(Ve+Ye);let M=[..._e,...p,...l];B(M),H.capex.subdivision||M.push(mt),H.opex.subdivision||M.push(bt),H.carrier.subdivision||M.push(gt),H.shed_demand.subdivision||M.push(vt),ve==se[0]?(f.location=c,re[U]=M):(f[U]=M,re.location=i);let ne=d.filter(Ve=>!o.includes(Ve)),G=Bt=="normalized",Q=[];T&&(Q=Pe(T.data,f,re,ne,G)),ge.data.data.length>0&&H.carbon_emission.show&&Q.push({label:"Total Carbon Costs",data:ge.data.data[0],type:"bar"}),xe().then(()=>{n(23,ce.data={datasets:Q},ce),n(23,ce.options.scales.y.title.text=pt+" ["+ht+"]",ce),n(10,u=!1)})}async function me(){if(a==null)return;await Ie(),await xe(),n(10,u=!0);let f=new Set;for(const M of j.data.data)f.add(M[U].replace(Re,""));for(const M of L.data.data)f.add(M[U].replace(Ye,""));n(11,g=a.detail.system.set_transport_technologies.filter(M=>f.has(M))),n(15,ue=a.detail.system.set_conversion_technologies.filter(M=>f.has(M))),n(13,S=a.detail.system.set_storage_technologies.filter(M=>f.has(M))),n(12,q=g),n(16,he=ue),n(14,le=S);let re=new Set;for(const M of K.data.data)re.add(M[U]);n(0,r=a.detail.system.set_carriers),n(18,oe=a.detail.carriers_import.concat(a.detail.carriers_export).filter(M=>re.has(M))),n(7,p=oe);let _e=new Set;for(const M of A.data.data)_e.add(M[U]);n(19,pe=a.detail.carriers_demand.filter(M=>_e.has(M))),n(8,l=pe),n(1,s=a.detail.system.set_nodes),n(6,o=d),n(4,i=c),N(),n(10,u=!1)}function Se(f){r=f,n(0,r)}function m(f){s=f,n(1,s)}function z(f){d=f,n(2,d)}function ie(f){a=f,n(5,a)}function de(f){_=f,n(9,_)}function I(f,re){e.$$.not_equal(H[re].show,f)&&(H[re].show=f,n(22,H))}function Le(f,re){e.$$.not_equal(H[re].subdivision,f)&&(H[re].subdivision=f,n(22,H))}function P(f){q=f,n(12,q)}function F(f){g=f,n(11,g)}const R=()=>{N()};function Y(f){le=f,n(14,le)}function x(f){S=f,n(13,S)}const Xe=()=>{N()};function Ze(f){he=f,n(16,he)}function Ae(f){ue=f,n(15,ue)}const ee=()=>{N()};function te(f){p=f,n(7,p)}function h(f){oe=f,n(18,oe)}const E=()=>{N()};function ke(f){l=f,n(8,l)}function ae(f){pe=f,n(19,pe)}const Te=()=>{N()};function Ge(f){se=f,n(20,se)}function be(f){ve=f,n(21,ve)}const je=f=>{N()};function Ue(f){i=f,n(4,i)}const Je=f=>{N()};function Me(f){o=f,n(6,o)}const Ke=f=>{N()};function ze(f){ce=f,n(23,ce)}function Be(f){e.$$.not_equal(a.detail.system.reference_year,f)&&(a.detail.system.reference_year=f,n(5,a))}return[r,s,d,c,i,a,o,p,l,_,u,g,q,S,le,ue,he,j,oe,pe,se,ve,H,ce,N,me,Se,m,z,ie,de,I,Le,P,F,R,Y,x,Xe,Ze,Ae,ee,te,h,E,ke,ae,Te,Ge,be,je,Ue,Je,Me,Ke,ze,Be]}class Ut extends Ct{constructor(t){super(),yt(this,t,Nt,At,kt,{},null,[-1,-1,-1])}}export{Ut as component};
