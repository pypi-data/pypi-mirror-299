# defaults for the gap handler management
[gap_handler]
njobs = 8
min_gap = 128
max_gap = 14400
output_dir = ${home}/omicron/gaps

[condor]
universe = vanilla
accounting_group = ligo.prod.o4.detchar.transient.omicron
accounting_group_user = joseph.areeda
periodic_remove = (JobStatus == 4 && CurrentTime-EnteredCurrentStatus > 7200) || (RequestMemory > 7000 && JobStatus == 1)
getenv = DEFAULT_SEGMENT_SERVER ECP_IDP GWDATAFIND_SERVER HDF5_USE_FILE_LOCKING HOME KRB5CCNAME NDSSERVER \
         OMICRON_HTML KRB5_KTNAME X509_USER_PROXY CONDA_PREFIX IFO
periodic_release = (HoldReasonCode =?= 26) && (JobStatus == 5)
request_disk = 500M
notification = never
max_concurrent = 64
condor_retry = 2

[find_fill]
universe = local

[certificates]
x509 = ${home}/

[conda]
environment = ligo-omicron-3.10

# omicron process
[process]
# how old to switch from guardian channel to dqsegdb
max_guardian = 600
# how far back for an online job
max_lookback = 1800
max_chunks_per_job = 4
# divide each group into sets of this many channels
max_channels_per_job = 20
condor_request_disk = 20G