(function() {function f(a,b){return function(){return b.apply(a,arguments)}}function k(a,b,c){a=document.createElement(a);c&&a.setAttribute("class",c);b&&b.appendChild(a);return a}var l=["","-moz-","-webkit-","-o-","-ms-"];function m(a,b,c){for(var d=0;d<l.length;++d)a.style.setProperty(l[d]+b,c)};var n=this;function p(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};schoolyourself=window.schoolyourself||{};schoolyourself.g=function(a,b,c,d,e){this.h=a;this.p=b;this.i=c;this.n=d;this.m=e;this.l=!1;this.q=null;this.j=[];this.k=null};p("schoolyourself.PlayerViewport",schoolyourself.g);
schoolyourself.g.prototype.resize=function(){if(this.l){var a=Math.min(this.h.offsetWidth,this.n),b=Math.min(this.h.offsetHeight,this.m),c=this.n/this.m;a/b<c?b=a/c:a=c*b;a=Math.floor(a);b=Math.floor(b);this.p.style.width=a+"px";this.p.style.height=b+"px";a=this.n/a;b=this.m/b;m(this.i,"transform",1>=a&&1>=b?"":a>b?"scale("+1/a+")":"scale("+1/b+")");m(this.i,"transform-origin","0 0")}};
schoolyourself.g.prototype.u=function(a){var b=k("iframe",this.i,"player-viewport-frame");b.setAttribute("tabindex",0);b.focus();b.src=a;b.scrolling="no";this.k=b;a=this.h;b=a.getAttribute("class");if(null===b)a.setAttribute("class","open");else{var c=a.getAttribute("class");null!==c&&-1!=c.split(" ").indexOf("open")||a.setAttribute("class",b+" open")}this.l=!0;this.resize()};schoolyourself.g.prototype.openFrame=schoolyourself.g.prototype.u;
schoolyourself.g.prototype.close=function(){if(!this.q||this.q()){this.l=!1;this.i.innerHTML="";var a=this.h,b=a.getAttribute("class");if(null!==b){for(var b=b.split(" "),c="",d=0;d<b.length;++d)"open"!=b[d]&&(c+=b[d]+" ");c=c.trim();a.setAttribute("class",c)}this.k=null;for(a=0;a<this.j.length;++a)this.j[a]()}};schoolyourself.g.prototype.s=function(a){this.j.push(a)};schoolyourself.g.prototype.addAfterCloseHandler=schoolyourself.g.prototype.s;schoolyourself.g.prototype.frame=function(){return this.k};
schoolyourself.g.prototype.frame=schoolyourself.g.prototype.frame;schoolyourself.o=function(){};
schoolyourself.o.t=function(a,b){var c=k("div",document.body,"schoolyourself player-viewport-container"),d=k("div",c,"player-viewport-curtain"),e=k("div",d,"player-viewport-content"),c=k("a",d,"player-viewport-x");c.href="#";var h=k("div",e,"player-viewport-scaler");e.style.width=a+"px";e.style.height=b+"px";h.style.width=a+"px";h.style.height=b+"px";var g=k("span");g.style.height="100%";g.style.display="inline-block";g.style.setProperty("vertical-align","middle");g.style.setProperty("font-size",
"0");d.appendChild(g);d=new schoolyourself.g(d,e,h,a,b);c.onclick=f(d,d.close);window.addEventListener("resize",f(d,d.resize),!1);return d};p("schoolyourself.PlayerViewportBuilder.insert",schoolyourself.o.t);})();