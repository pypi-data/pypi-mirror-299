
<script src="/assets/plugins/marked/marked.min.js"></script>

<style>

        .container-fluid {
          display: flex;
          flex-direction: column;

        }

        .chatbot {
          flex: 1;
          display: flex;
          margin: 0;
            padding: 10px;
        }

        .header-text { /* Add the class to your header text element */
                text-align: center; /* Centers the text */
                margin: 0 auto; /* Additional centering for block elements */
                display: block; /* Ensures the element is treated as a block-level element */
                font-size: 14px; /* Sets the font size */
                font-weight: bold;
                min-height:40px;
                padding:10px;
                word-wrap: break-word; /* Breaks the words to prevent overflow */
                hyphens: auto; /* Automatic hyphenation */
            }


        .examples {
            flex: 1;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .example {

            width: 100%;
            margin: 5px 0; /* Add margin to space out examples */
            padding: 15px; /* Increase padding for better touch targets */
            font-size: 10px; /* Increase font size for readability */
            border: 1px solid #ccc; /* Softer border color */
            border-radius: 8px; /* Rounder corners for a modern look */
            cursor: pointer; /* Indicate that examples are clickable */
            transition: background-color 0.3s; /* Smooth transition for hover effect */
            word-wrap: break-word; /* Breaks the words to prevent overflow */
            hyphens: auto; /* Automatic hyphenation */
            text-align: center; /* Centers the text */
        }

        .example:hover {
            background-color: #f0f0f0; /* Hover effect for interactivity */
        }

        .example.disabled {
          pointer-events: none;
          opacity: 0.6;
          background-color: #f0f0f0; /* or any other color that indicates "disabled" */
        }


</style>


        <template id="system_prompt"></template>
        <script type="module" src="llms-ui/chatbot_openai/Chatbot_OpenAI.js"></script>
        <div class="container-fluid">
            <div class="row chatbot">
                <div class="col-xs-12 col-sm-10">
                    <chatbot-openai url              = "{{ url_athena }}"
                                    initial_message  = ""
                                    name             = "{{ title or 'model name' }}"
                                    model            = "gpt-4-vision-preview"       ,
                                    target           = "{{ target }}"               >

                    </chatbot-openai>
                </div>
                <div class="col-sm-2 examples">
                    <div class="header-text">{{ examples_title }}</div>
                    {% for text in examples_texts %}
                        <div class="example" onclick="submit_example(this)">{{ text }}</div>
                    {% endfor %}
                </div>
            </div>
        </div>

<script>
    function submit_example(element) {
        let user_prompt = element.innerText;
        let chatbot = document.querySelector('chatbot-openai');
        chatbot.messages.add_message_sent({user_prompt:user_prompt, target:'{{target}}'})

        var examples = document.querySelectorAll('.example');

          // Disable all example elements
          examples.forEach(function(element) {
            element.classList.add('disabled');
          });

    }
    window.addEventListener('streamComplete', (e)=>{
            var examples = document.querySelectorAll('.example');

          // ReEnable all example elements
          examples.forEach(function(element) {
            element.classList.remove('disabled');
          });
        });


</script>

{#{%  include('llms/open_ai/submit_chat_data.html') %}#}


