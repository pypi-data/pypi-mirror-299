function chartBubble(o,s){if(o.python)result={datasets:[],labels:o.series},o.datasets.forEach(function(o,a){void 0===o.backgroundColor&&(o.backgroundColor=s.background_colors[a]),void 0===o.borderColor&&(o.borderColor=s.colors[a]),void 0!==s.commons&&Object.assign(o,s.commons),void 0!==s?._ek?.alterSeries&&s._ek.alterSeries(o,a),result.datasets.push(o)});else{var a,r,e={},i=[];a="function"==typeof s.y_columns?s.y_columns(o,s):s.y_columns,r="function"==typeof s.x_axis?s.x_axis(o,s):s.x_axis,a.forEach(function(o){e[o]=[]}),o.forEach(function(o){a.forEach(function(a){if(void 0!==o[r]){i.push(o[r]);var t=s.r(o);void 0!==s.rDim&&void 0!=o[s.rDim]&&(t=o[s.rDim]),e[a].push({y:o[a],x:o[r],r:t})}})}),result={datasets:[],labels:i},a.forEach(function(o,a){if(dataSet={label:o,type:s.type,data:[],backgroundColor:s.colors[a]},void 0!==s.props&&void 0!==s.props[a])for(var r in s.props[a])dataSet[r]=s.props[a][r];else if(void 0!==s.commons)for(var r in s.commons)dataSet[r]=s.commons[r];i.forEach(function(s,a){dataSet.data=e[o]}),void 0!==s.datasets&&void 0!==s.datasets[o]&&(dataSet=Object.assign(dataSet,s.datasets[o])),void 0!==s?._ek?.alterSeries&&s._ek.alterSeries(dataSet,a),result.datasets.push(dataSet)}),void 0!==s.labels&&(result.labels=s.labels)}return result}