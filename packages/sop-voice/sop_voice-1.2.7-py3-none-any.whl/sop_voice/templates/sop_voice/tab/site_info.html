{% load helpers %}
{% load plugins %}
{% load buttons %}
{% load static %}
{% load tz %}
{% load i18n %}
{% load mptt %}

<!-- 
  ________________________________
  front inspired by dcim/site.html
-->

<div class="card">

<!--
  _______________________________________________________________________
  if there is no site instance of the model, create one using the site pk
  else edit the current one
-->
{% comment %} <div class="card-header justify-content-between"> {% endcomment %}
    {% comment %} <h5 class="mb-0">{{object|meta:"verbose_name"|bettertitle}}</h5> {% endcomment %}
    {% comment %} <span style="float: right;"> {% endcomment %}
      {% comment %} {% edit_button object %}{% delete_button object %} {% endcomment %}
    {% comment %} </span> {% endcomment %}
{% comment %} </div> {% endcomment %}
<h2 class="card-header">Information
  <div class="card-actions">
    {% if not object %}
    <a href="{% url 'plugins:sop_voice:sitevoiceinfo_add' pk=site.id %}" class="btn btn-ghost-primary btn-sm">
      <i class="mdi mdi-plus-thick" aria-hidden="true"></i>Add a Voice Maintainer
    </a>
    {% else %}
    <a href="{% url 'plugins:sop_voice:sitevoiceinfo_edit' pk=object.id %}" class="btn btn-ghost-primary btn-sm">
      <i class="mdi mdi-pencil-thick" aria-hidden="true"></i>Edit Voice Maintainer
    </a>
    {% endif %}
  </div>
</h2>


  <table class="table table-hover attr-table">

    <ul class="list-group list-group-flush">
      {% if object.maintainer %}
      <a href="{% url object|viewname:"detail" pk=object.id %}"
        class="list-group-item list-group-item-action d-flex justify-content-between">
          {% trans "Maintainer" %}
          <span>{{object.maintainer}}</span>
        </a>
      {% else %}
        <a class="list-group-item list-group-item-action d-flex justify-content-between">
          {% trans "Maintainer" %}
          {% include 'sop_voice/tools/badge.html' %}
        </a>
      {% endif %}
    </ul>

<!-- 
      ____________________________________
      display devices but not used for now
-->
    {% comment %} {% if devices|first %}
    <ul class="list-group list-group-flush">
      <a href="{% url devices|first|viewname:"list" %}"
         class="list-group-item list-group-item-action d-flex justify-content-between">
        {{ devices|first|meta:"verbose_name_plural"|bettertitle }}
        {% with count=devices.count %}
          {% if count %}
            <span class="badge text-bg-primary rounded-pill">{{ count }}</span>
          {% else %}
            <span class="badge text-bg-light rounded-pill">&mdash;</span>
          {% endif %}
        {% endwith %}
      </a>
    </ul>
    {% endif %} {% endcomment %}

  </table>

</div>
