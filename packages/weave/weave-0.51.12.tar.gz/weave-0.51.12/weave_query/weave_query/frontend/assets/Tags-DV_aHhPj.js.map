{"version":3,"file":"Tags-DV_aHhPj.js","sources":["../../src/common/util/reactUtils.ts","../../src/common/components/elements/Text.tsx","../../src/common/components/Tags.styles.ts","../../src/common/components/Tags.tsx"],"sourcesContent":["import * as _ from 'lodash';\n\n// Common props used for prop pass through\nexport interface NameProps {\n  className?: string;\n  id?: string;\n}\n\nexport function pickNameProps<T>(props: T) {\n  return _.pick(props, ['className', 'id']) as NameProps;\n}\n","// import classnames from 'classnames';\nimport classNames from 'classnames';\nimport React from 'react';\n\nimport {NameProps, pickNameProps} from '../../util/reactUtils';\n\ninterface TextProps {\n  children: any;\n  maxWidth?: number;\n  as?: any;\n  alignSelf?: string;\n}\n\nconst singleLineTextClass = 'text__single-line';\n\n// Renders text\n// If the text is given a maxSize prop it will\n// overflow with no line wrap and ellipsis.\nexport const SingleLineText: React.SFC<TextProps & NameProps> = props => {\n  const passThrough = pickNameProps(props);\n  const className = classNames(props.className, singleLineTextClass);\n  const style = {\n    maxWidth: props.maxWidth ? props.maxWidth : '',\n    alignSelf: props.alignSelf ? props.alignSelf : '',\n  };\n  const title = Array.isArray(props.children)\n    ? props.children.join('')\n    : props.children;\n  const otherProps = {className, style, title};\n\n  const El = props.as || 'span';\n\n  return (\n    <El {...passThrough} {...otherProps}>\n      {props.children}\n    </El>\n  );\n};\n","import {WBIcon} from '@wandb/ui';\nimport styled, {css} from 'styled-components';\n\nconst IconVariants = {\n  small: css`\n    font-size: 12px;\n  `,\n  medium: css`\n    font-size: 14px;\n  `,\n  large: css`\n    font-size: 16px;\n  `,\n};\n\nexport const Icon = styled(WBIcon)<{\n  size: keyof typeof IconVariants;\n  $pos: string;\n  $opacity?: number;\n  $cursor?: string;\n}>`\n  ${props => IconVariants[props.size]};\n  margin: 4px 4px 4px 4px;\n  ${props =>\n    props.$pos === 'left' ? `margin-left: -4px;` : `margin-right: -4px;`}\n  display: flex;\n  align-items: center;\n  opacity: ${props => props.$opacity};\n  ${props => (props.$cursor ? `cursor: ${props.$cursor};` : '')}\n`;\n","import _ from 'lodash';\nimport React, {useState} from 'react';\nimport {Label} from 'semantic-ui-react';\n\nimport * as GQLTypes from '../types/graphql';\nimport {SingleLineText} from './elements/Text';\nimport * as S from './Tags.styles';\n\nexport enum TagType {\n  TAG,\n  ALIAS,\n  PROTECTED_ALIAS,\n}\n\ninterface TagProps {\n  size?: 'large' | 'medium' | 'small';\n  tag: GQLTypes.Tag;\n  noun?: 'tag' | 'alias' | 'protected-alias';\n  canDelete?: boolean;\n  showColor?: boolean;\n\n  onDelete?(e: React.MouseEvent<HTMLElement>): void;\n  onClick?(): void;\n}\n\nfunction nounToTagType(noun: string): TagType {\n  switch (noun) {\n    case 'tag':\n      return TagType.TAG;\n    case 'alias':\n      return TagType.ALIAS;\n    case 'protected-alias':\n      return TagType.PROTECTED_ALIAS;\n    default:\n      return TagType.TAG;\n  }\n}\n\nfunction colorIndexToName(showColor: boolean, index?: number): string {\n  if (!showColor) {\n    return 'tag-lightGray';\n  }\n  switch (index) {\n    case TagType.TAG:\n      return 'tag-teal-light';\n    case TagType.ALIAS:\n      return 'tag-sienna-light';\n    case TagType.PROTECTED_ALIAS:\n      return 'tag-purple';\n    default:\n      return 'tag-lightGray';\n  }\n}\n\nexport const Tag: React.FC<TagProps> = React.memo(\n  ({size: propsSize, tag, noun, canDelete, showColor, onDelete, onClick}) => {\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n    const size = propsSize || 'large';\n    noun = noun ?? 'tag';\n    canDelete = canDelete ?? true;\n    showColor = showColor ?? true;\n\n    // As per new design guidelines, colors for tags and aliases are no longer random\n    // Since they've been fixed based on tag type (aka `noun`), the color assignment here will ignore\n    // the database color index. This can be modified in the future if the design decision changes\n    // based on user feedback\n    const colorName = colorIndexToName(showColor, nounToTagType(noun));\n    return (\n      <Label\n        style={{marginLeft: '2px', maxWidth: '220px'}}\n        className={\n          showDeleteAlert\n            ? `run-tag ${size} tag-red-alert`\n            : `run-tag ${size} ${colorName}`\n        }\n        key={tag.name}\n        onClick={onClick}>\n        <S.Icon\n          name={noun === 'tag' ? 'tag-latest' : 'email-at'}\n          size={size}\n          $pos=\"left\"\n        />\n        <SingleLineText alignSelf={'center'}>{tag.name}</SingleLineText>\n        {canDelete && onDelete && (\n          <S.Icon\n            className=\"delete-tag\"\n            name=\"close-latest\"\n            size={size}\n            onClick={(e: React.MouseEvent<HTMLElement>) => {\n              e.stopPropagation();\n              onDelete(e);\n            }}\n            onMouseOver={() => setShowDeleteAlert(true)}\n            onMouseOut={() => setShowDeleteAlert(false)}\n            $pos=\"right\"\n            $opacity={0.6}\n            $cursor=\"pointer\"\n          />\n        )}\n      </Label>\n    );\n  }\n);\n\ninterface TagsProps {\n  size?: 'medium' | 'small';\n  tags: GQLTypes.Tag[];\n  enableDelete?: boolean;\n  noun?: 'tag' | 'alias';\n\n  deleteTag?(tag: GQLTypes.Tag): void;\n  onClick?(tag: string): void;\n}\n\nexport const Tags: React.FC<TagsProps> = React.memo(\n  ({size, tags, enableDelete, noun, deleteTag, onClick}) => {\n    return (\n      <span className=\"run-tags\">\n        {_.sortBy(tags, 'name').map(tag => (\n          <Tag\n            key={tag.name}\n            tag={tag}\n            size={size}\n            onDelete={\n              enableDelete && deleteTag\n                ? e => {\n                    if (deleteTag) {\n                      e.stopPropagation();\n                      deleteTag(tag);\n                    }\n                  }\n                : undefined\n            }\n            onClick={() => onClick?.(tag.name)}\n            noun={noun}\n          />\n        ))}\n      </span>\n    );\n  }\n);\n"],"names":["pickNameProps","props","_.pick","singleLineTextClass","SingleLineText","passThrough","className","classNames","style","title","otherProps","El","IconVariants","css","Icon","styled","WBIcon","TagType","TagType2","nounToTagType","noun","colorIndexToName","showColor","index","Tag","React","propsSize","tag","canDelete","onDelete","onClick","showDeleteAlert","setShowDeleteAlert","useState","size","colorName","Label","S.Icon","e","tags","enableDelete","deleteTag","_"],"mappings":"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"}